openapi: 3.0.3
info:
  title: 室内空气检测平台 API
  version: 1.0.0
  description: 室内空气检测数据处理和报告生成平台的REST API，包含AI配置管理系统
paths:
  /api/v1/ai-config/configs:
    get:
      operationId: api_v1_ai_config_configs_list
      description: 获取所有AI服务配置的列表，支持按状态和提供商过滤
      summary: 获取AI配置列表
      parameters:
      - in: query
        name: is_active
        schema:
          type: boolean
        description: 过滤激活状态的配置
      - name: page
        required: false
        in: query
        description: A page number within the paginated result set.
        schema:
          type: integer
      - in: query
        name: provider
        schema:
          type: string
        description: 过滤指定提供商的配置（gemini/openai/anthropic）
      tags:
      - AI配置管理
      security:
      - tokenAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PaginatedAIServiceConfigList'
          description: ''
    post:
      operationId: api_v1_ai_config_configs_create
      description: 创建新的AI服务配置
      summary: 创建AI配置
      tags:
      - AI配置管理
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/AIServiceConfigCreateRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/AIServiceConfigCreateRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/AIServiceConfigCreateRequest'
        required: true
      security:
      - tokenAuth: []
      responses:
        '201':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AIServiceConfigCreate'
          description: ''
  /api/v1/ai-config/configs/{id}:
    get:
      operationId: api_v1_ai_config_configs_retrieve
      description: 获取指定AI配置的详细信息
      summary: 获取AI配置详情
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: A unique integer value identifying this AI服务配置.
        required: true
      tags:
      - AI配置管理
      security:
      - tokenAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AIServiceConfig'
          description: ''
    put:
      operationId: api_v1_ai_config_configs_update
      description: 完整更新AI配置信息
      summary: 更新AI配置
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: A unique integer value identifying this AI服务配置.
        required: true
      tags:
      - AI配置管理
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/AIServiceConfigUpdateRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/AIServiceConfigUpdateRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/AIServiceConfigUpdateRequest'
        required: true
      security:
      - tokenAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AIServiceConfigUpdate'
          description: ''
    patch:
      operationId: api_v1_ai_config_configs_partial_update
      description: 部分更新AI配置信息
      summary: 部分更新AI配置
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: A unique integer value identifying this AI服务配置.
        required: true
      tags:
      - AI配置管理
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PatchedAIServiceConfigUpdateRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/PatchedAIServiceConfigUpdateRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/PatchedAIServiceConfigUpdateRequest'
      security:
      - tokenAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AIServiceConfigUpdate'
          description: ''
    delete:
      operationId: api_v1_ai_config_configs_destroy
      description: 删除指定的AI配置
      summary: 删除AI配置
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: A unique integer value identifying this AI服务配置.
        required: true
      tags:
      - AI配置管理
      security:
      - tokenAuth: []
      responses:
        '204':
          description: No response body
  /api/v1/ai-config/configs/{id}/activate:
    post:
      operationId: api_v1_ai_config_configs_activate_create
      description: 激活AI服务配置
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: A unique integer value identifying this AI服务配置.
        required: true
      tags:
      - api
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/AIServiceConfigRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/AIServiceConfigRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/AIServiceConfigRequest'
        required: true
      security:
      - tokenAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AIServiceConfig'
          description: ''
  /api/v1/ai-config/configs/{id}/deactivate:
    post:
      operationId: api_v1_ai_config_configs_deactivate_create
      description: 停用AI服务配置
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: A unique integer value identifying this AI服务配置.
        required: true
      tags:
      - api
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/AIServiceConfigRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/AIServiceConfigRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/AIServiceConfigRequest'
        required: true
      security:
      - tokenAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AIServiceConfig'
          description: ''
  /api/v1/ai-config/configs/{id}/monitor:
    get:
      operationId: api_v1_ai_config_configs_monitor_retrieve
      description: 获取特定服务的监控数据
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: A unique integer value identifying this AI服务配置.
        required: true
      tags:
      - api
      security:
      - tokenAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AIServiceConfig'
          description: ''
  /api/v1/ai-config/configs/{id}/set_default:
    post:
      operationId: api_v1_ai_config_configs_set_default_create
      description: 设置为默认配置
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: A unique integer value identifying this AI服务配置.
        required: true
      tags:
      - api
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/AIServiceConfigRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/AIServiceConfigRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/AIServiceConfigRequest'
        required: true
      security:
      - tokenAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AIServiceConfig'
          description: ''
  /api/v1/ai-config/configs/{id}/test:
    post:
      operationId: api_v1_ai_config_configs_test_create
      description: 测试指定AI配置的连接性和可用性
      summary: 测试AI配置
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: A unique integer value identifying this AI服务配置.
        required: true
      tags:
      - AI配置管理
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/AIServiceConfigRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/AIServiceConfigRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/AIServiceConfigRequest'
        required: true
      security:
      - tokenAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                description: 测试成功
          description: ''
        '400':
          content:
            application/json:
              schema:
                description: 测试失败
          description: ''
  /api/v1/ai-config/configs/health:
    get:
      operationId: api_v1_ai_config_configs_health_retrieve
      description: 获取系统健康状态
      tags:
      - api
      security:
      - tokenAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AIServiceConfig'
          description: ''
  /api/v1/ai-config/configs/stats:
    get:
      operationId: api_v1_ai_config_configs_stats_retrieve
      description: 获取AI服务使用统计
      tags:
      - api
      security:
      - tokenAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AIServiceConfig'
          description: ''
  /api/v1/ai-config/configs/status:
    get:
      operationId: api_v1_ai_config_configs_status_retrieve
      description: 获取当前AI服务的运行状态和可用服务列表
      summary: 获取AI服务状态
      tags:
      - AI监控
      security:
      - tokenAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                description: 状态获取成功
          description: ''
  /api/v1/ai-config/configs/switch_service:
    post:
      operationId: api_v1_ai_config_configs_switch_service_create
      description: 切换当前使用的AI服务
      tags:
      - api
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/AIServiceConfigRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/AIServiceConfigRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/AIServiceConfigRequest'
        required: true
      security:
      - tokenAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AIServiceConfig'
          description: ''
  /api/v1/ai-config/configs/test_config:
    post:
      operationId: api_v1_ai_config_configs_test_config_create
      description: 测试配置（不保存到数据库）
      tags:
      - api
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/AIServiceConfigRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/AIServiceConfigRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/AIServiceConfigRequest'
        required: true
      security:
      - tokenAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AIServiceConfig'
          description: ''
  /api/v1/ai-config/history:
    get:
      operationId: api_v1_ai_config_history_list
      description: AI配置历史视图集
      parameters:
      - name: page
        required: false
        in: query
        description: A page number within the paginated result set.
        schema:
          type: integer
      tags:
      - api
      security:
      - tokenAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PaginatedAIConfigHistoryList'
          description: ''
  /api/v1/ai-config/history/{id}:
    get:
      operationId: api_v1_ai_config_history_retrieve
      description: AI配置历史视图集
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: A unique integer value identifying this AI配置变更历史.
        required: true
      tags:
      - api
      security:
      - tokenAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AIConfigHistory'
          description: ''
  /api/v1/ai-config/logs:
    get:
      operationId: api_v1_ai_config_logs_list
      description: AI服务使用日志视图集
      parameters:
      - name: page
        required: false
        in: query
        description: A page number within the paginated result set.
        schema:
          type: integer
      tags:
      - api
      security:
      - tokenAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PaginatedAIServiceUsageLogList'
          description: ''
  /api/v1/ai-config/logs/{id}:
    get:
      operationId: api_v1_ai_config_logs_retrieve
      description: AI服务使用日志视图集
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: A unique integer value identifying this AI服务使用日志.
        required: true
      tags:
      - api
      security:
      - tokenAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AIServiceUsageLog'
          description: ''
  /api/v1/auth/login:
    post:
      operationId: api_v1_auth_login_create
      description: 用户登录视图
      tags:
      - api
      security:
      - {}
      responses:
        '200':
          description: No response body
  /api/v1/auth/login/:
    post:
      operationId: api_v1_auth_login_create_2
      description: 用户登录视图
      tags:
      - api
      security:
      - {}
      responses:
        '200':
          description: No response body
  /api/v1/auth/logout:
    post:
      operationId: api_v1_auth_logout_create
      description: 用户登出视图
      tags:
      - api
      security:
      - tokenAuth: []
      responses:
        '200':
          description: No response body
  /api/v1/auth/logout/:
    post:
      operationId: api_v1_auth_logout_create_2
      description: 用户登出视图
      tags:
      - api
      security:
      - tokenAuth: []
      responses:
        '200':
          description: No response body
  /api/v1/auth/profile:
    get:
      operationId: api_v1_auth_profile_retrieve
      description: 用户配置视图
      tags:
      - api
      security:
      - tokenAuth: []
      responses:
        '200':
          description: No response body
    put:
      operationId: api_v1_auth_profile_update
      description: 用户配置视图
      tags:
      - api
      security:
      - tokenAuth: []
      responses:
        '200':
          description: No response body
  /api/v1/auth/profile/:
    get:
      operationId: api_v1_auth_profile_retrieve_2
      description: 用户配置视图
      tags:
      - api
      security:
      - tokenAuth: []
      responses:
        '200':
          description: No response body
    put:
      operationId: api_v1_auth_profile_update_2
      description: 用户配置视图
      tags:
      - api
      security:
      - tokenAuth: []
      responses:
        '200':
          description: No response body
  /api/v1/auth/users/:
    get:
      operationId: api_v1_auth_users_list
      description: 用户管理视图集
      parameters:
      - name: page
        required: false
        in: query
        description: A page number within the paginated result set.
        schema:
          type: integer
      tags:
      - api
      security:
      - tokenAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PaginatedUserList'
          description: ''
    post:
      operationId: api_v1_auth_users_create
      description: 用户管理视图集
      tags:
      - api
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UserRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/UserRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/UserRequest'
        required: true
      security:
      - tokenAuth: []
      responses:
        '201':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/User'
          description: ''
  /api/v1/auth/users/{id}/:
    get:
      operationId: api_v1_auth_users_retrieve
      description: 用户管理视图集
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: A unique integer value identifying this 用户.
        required: true
      tags:
      - api
      security:
      - tokenAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/User'
          description: ''
    put:
      operationId: api_v1_auth_users_update
      description: 用户管理视图集
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: A unique integer value identifying this 用户.
        required: true
      tags:
      - api
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UserRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/UserRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/UserRequest'
        required: true
      security:
      - tokenAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/User'
          description: ''
    patch:
      operationId: api_v1_auth_users_partial_update
      description: 用户管理视图集
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: A unique integer value identifying this 用户.
        required: true
      tags:
      - api
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PatchedUserRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/PatchedUserRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/PatchedUserRequest'
      security:
      - tokenAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/User'
          description: ''
    delete:
      operationId: api_v1_auth_users_destroy
      description: 用户管理视图集
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: A unique integer value identifying this 用户.
        required: true
      tags:
      - api
      security:
      - tokenAuth: []
      responses:
        '204':
          description: No response body
  /api/v1/batch/create:
    get:
      operationId: api_v1_batch_create_retrieve
      description: 测试GET请求
      tags:
      - api
      security:
      - tokenAuth: []
      responses:
        '200':
          description: No response body
    post:
      operationId: api_v1_batch_create_create
      description: 批量上传图片文件并创建批量处理任务（仅上传，不立即处理）
      summary: 批量上传文件并创建批量任务
      tags:
      - api
      requestBody:
        content:
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/BulkFileUploadAndBatchRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/BulkFileUploadAndBatchRequest'
        required: true
      security:
      - tokenAuth: []
      responses:
        '201':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BatchJob'
          description: ''
  /api/v1/batch/create/:
    get:
      operationId: api_v1_batch_create_retrieve_2
      description: 测试GET请求
      tags:
      - api
      security:
      - tokenAuth: []
      responses:
        '200':
          description: No response body
    post:
      operationId: api_v1_batch_create_create_2
      description: 批量上传图片文件并创建批量处理任务（仅上传，不立即处理）
      summary: 批量上传文件并创建批量任务
      tags:
      - api
      requestBody:
        content:
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/BulkFileUploadAndBatchRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/BulkFileUploadAndBatchRequest'
        required: true
      security:
      - tokenAuth: []
      responses:
        '201':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BatchJob'
          description: ''
  /api/v1/batch/create-from-files:
    post:
      operationId: api_v1_batch_create_from_files_create
      description: 基于文件ID列表创建批量处理任务
      summary: 创建批量任务
      tags:
      - api
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/BatchJobCreateRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/BatchJobCreateRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/BatchJobCreateRequest'
        required: true
      security:
      - tokenAuth: []
      responses:
        '201':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BatchJob'
          description: ''
  /api/v1/batch/create-from-files/:
    post:
      operationId: api_v1_batch_create_from_files_create_2
      description: 基于文件ID列表创建批量处理任务
      summary: 创建批量任务
      tags:
      - api
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/BatchJobCreateRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/BatchJobCreateRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/BatchJobCreateRequest'
        required: true
      security:
      - tokenAuth: []
      responses:
        '201':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BatchJob'
          description: ''
  /api/v1/batch/jobs:
    get:
      operationId: api_v1_batch_jobs_list
      description: 批量任务管理视图集
      parameters:
      - name: page
        required: false
        in: query
        description: A page number within the paginated result set.
        schema:
          type: integer
      tags:
      - api
      security:
      - tokenAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PaginatedBatchJobList'
          description: ''
    post:
      operationId: api_v1_batch_jobs_create
      description: 批量任务管理视图集
      tags:
      - api
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/BatchJobRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/BatchJobRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/BatchJobRequest'
        required: true
      security:
      - tokenAuth: []
      responses:
        '201':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BatchJob'
          description: ''
  /api/v1/batch/jobs/{id}:
    get:
      operationId: api_v1_batch_jobs_retrieve
      description: 批量任务管理视图集
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: A unique integer value identifying this 批量任务.
        required: true
      tags:
      - api
      security:
      - tokenAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BatchJob'
          description: ''
    put:
      operationId: api_v1_batch_jobs_update
      description: 批量任务管理视图集
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: A unique integer value identifying this 批量任务.
        required: true
      tags:
      - api
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/BatchJobUpdateRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/BatchJobUpdateRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/BatchJobUpdateRequest'
        required: true
      security:
      - tokenAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BatchJobUpdate'
          description: ''
    patch:
      operationId: api_v1_batch_jobs_partial_update
      description: 批量任务管理视图集
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: A unique integer value identifying this 批量任务.
        required: true
      tags:
      - api
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PatchedBatchJobUpdateRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/PatchedBatchJobUpdateRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/PatchedBatchJobUpdateRequest'
      security:
      - tokenAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BatchJobUpdate'
          description: ''
    delete:
      operationId: api_v1_batch_jobs_destroy
      description: 删除批量任务
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: A unique integer value identifying this 批量任务.
        required: true
      tags:
      - api
      security:
      - tokenAuth: []
      responses:
        '204':
          description: No response body
  /api/v1/batch/jobs/{id}/cancel:
    post:
      operationId: api_v1_batch_jobs_cancel_create
      description: 取消正在运行的批量处理任务
      summary: 取消批量任务
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: A unique integer value identifying this 批量任务.
        required: true
      tags:
      - api
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/BatchJobRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/BatchJobRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/BatchJobRequest'
        required: true
      security:
      - tokenAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                description: 任务已取消
          description: ''
  /api/v1/batch/jobs/{id}/files/{file_item_id}:
    get:
      operationId: api_v1_batch_jobs_files_retrieve
      description: 获取批量任务中单个文件的详细处理信息
      summary: 获取文件项详情
      parameters:
      - in: path
        name: file_item_id
        schema:
          type: string
        required: true
      - in: path
        name: id
        schema:
          type: integer
        description: A unique integer value identifying this 批量任务.
        required: true
      tags:
      - api
      security:
      - tokenAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BatchFileItem'
          description: ''
  /api/v1/batch/jobs/{id}/progress:
    get:
      operationId: api_v1_batch_jobs_progress_retrieve
      description: 获取批量任务的详细进度信息，包括文件列表和处理状态
      summary: 获取任务进度
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: A unique integer value identifying this 批量任务.
        required: true
      tags:
      - api
      security:
      - tokenAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BatchJob'
          description: ''
  /api/v1/batch/jobs/{id}/reprocess_file/{file_item_id}:
    post:
      operationId: api_v1_batch_jobs_reprocess_file_create
      description: 强制重新识别批量任务中的指定文件，不使用已有OCR结果
      summary: 重新识别指定文件
      parameters:
      - in: path
        name: file_item_id
        schema:
          type: string
        required: true
      - in: path
        name: id
        schema:
          type: integer
        description: A unique integer value identifying this 批量任务.
        required: true
      tags:
      - api
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/BatchJobRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/BatchJobRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/BatchJobRequest'
        required: true
      security:
      - tokenAuth: []
      responses:
        '202':
          content:
            application/json:
              schema:
                description: 重新识别已开始
          description: ''
  /api/v1/batch/jobs/{id}/retry_failed:
    post:
      operationId: api_v1_batch_jobs_retry_failed_create
      description: 重新处理批量任务中失败的文件
      summary: 重试失败的文件
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: A unique integer value identifying this 批量任务.
        required: true
      tags:
      - api
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/BatchJobRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/BatchJobRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/BatchJobRequest'
        required: true
      security:
      - tokenAuth: []
      responses:
        '202':
          content:
            application/json:
              schema:
                description: 重试已开始
          description: ''
  /api/v1/batch/jobs/{id}/start:
    post:
      operationId: api_v1_batch_jobs_start_create
      description: 启动指定的批量处理任务
      summary: 启动批量任务
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: A unique integer value identifying this 批量任务.
        required: true
      tags:
      - api
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/BatchJobStartRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/BatchJobStartRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/BatchJobStartRequest'
      security:
      - tokenAuth: []
      responses:
        '202':
          content:
            application/json:
              schema:
                description: 任务已启动
          description: ''
  /api/v1/batch/stats:
    get:
      operationId: api_v1_batch_stats_retrieve
      description: 获取当前用户的批量任务统计信息
      summary: 获取批量任务统计信息
      tags:
      - api
      security:
      - tokenAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BatchJobStats'
          description: ''
  /api/v1/batch/stats/:
    get:
      operationId: api_v1_batch_stats_retrieve_2
      description: 获取当前用户的批量任务统计信息
      summary: 获取批量任务统计信息
      tags:
      - api
      security:
      - tokenAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BatchJobStats'
          description: ''
  /api/v1/files/bulk-upload:
    post:
      operationId: api_v1_files_bulk_upload_create
      description: 批量上传多个文件到服务器
      summary: 批量上传文件
      tags:
      - api
      requestBody:
        content:
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/BulkFileUploadRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/BulkFileUploadRequest'
        required: true
      security:
      - tokenAuth: []
      responses:
        '201':
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/UploadedFile'
          description: ''
  /api/v1/files/bulk-upload/:
    post:
      operationId: api_v1_files_bulk_upload_create_2
      description: 批量上传多个文件到服务器
      summary: 批量上传文件
      tags:
      - api
      requestBody:
        content:
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/BulkFileUploadRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/BulkFileUploadRequest'
        required: true
      security:
      - tokenAuth: []
      responses:
        '201':
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/UploadedFile'
          description: ''
  /api/v1/files/files:
    get:
      operationId: api_v1_files_files_list
      description: 上传文件管理视图集
      parameters:
      - name: page
        required: false
        in: query
        description: A page number within the paginated result set.
        schema:
          type: integer
      tags:
      - api
      security:
      - tokenAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PaginatedUploadedFileList'
          description: ''
    post:
      operationId: api_v1_files_files_create
      description: 上传文件管理视图集
      tags:
      - api
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UploadedFileRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/UploadedFileRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/UploadedFileRequest'
        required: true
      security:
      - tokenAuth: []
      responses:
        '201':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UploadedFile'
          description: ''
  /api/v1/files/files/{id}:
    get:
      operationId: api_v1_files_files_retrieve
      description: 上传文件管理视图集
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: A unique integer value identifying this 上传文件.
        required: true
      tags:
      - api
      security:
      - tokenAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UploadedFile'
          description: ''
    put:
      operationId: api_v1_files_files_update
      description: 上传文件管理视图集
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: A unique integer value identifying this 上传文件.
        required: true
      tags:
      - api
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UploadedFileRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/UploadedFileRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/UploadedFileRequest'
        required: true
      security:
      - tokenAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UploadedFile'
          description: ''
    patch:
      operationId: api_v1_files_files_partial_update
      description: 上传文件管理视图集
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: A unique integer value identifying this 上传文件.
        required: true
      tags:
      - api
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PatchedUploadedFileRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/PatchedUploadedFileRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/PatchedUploadedFileRequest'
      security:
      - tokenAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UploadedFile'
          description: ''
    delete:
      operationId: api_v1_files_files_destroy
      description: 上传文件管理视图集
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: A unique integer value identifying this 上传文件.
        required: true
      tags:
      - api
      security:
      - tokenAuth: []
      responses:
        '204':
          description: No response body
  /api/v1/files/files/{id}/download:
    get:
      operationId: api_v1_files_files_download_retrieve
      description: 下载指定的文件
      summary: 下载文件
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: A unique integer value identifying this 上传文件.
        required: true
      tags:
      - api
      security:
      - tokenAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                type: string
                format: binary
          description: ''
  /api/v1/files/stats:
    get:
      operationId: api_v1_files_stats_retrieve
      description: 获取当前用户的文件统计信息
      summary: 获取文件统计信息
      tags:
      - api
      security:
      - tokenAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                type: object
                properties:
                  total_files:
                    type: integer
                  total_size:
                    type: integer
                  file_types:
                    type: object
                  processed_files:
                    type: integer
                  unprocessed_files:
                    type: integer
          description: ''
  /api/v1/files/stats/:
    get:
      operationId: api_v1_files_stats_retrieve_2
      description: 获取当前用户的文件统计信息
      summary: 获取文件统计信息
      tags:
      - api
      security:
      - tokenAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                type: object
                properties:
                  total_files:
                    type: integer
                  total_size:
                    type: integer
                  file_types:
                    type: object
                  processed_files:
                    type: integer
                  unprocessed_files:
                    type: integer
          description: ''
  /api/v1/files/upload:
    post:
      operationId: api_v1_files_upload_create
      description: 上传单个文件到服务器
      summary: 上传单个文件
      tags:
      - api
      requestBody:
        content:
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/FileUploadRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/FileUploadRequest'
        required: true
      security:
      - tokenAuth: []
      responses:
        '201':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UploadedFile'
          description: ''
  /api/v1/files/upload/:
    post:
      operationId: api_v1_files_upload_create_2
      description: 上传单个文件到服务器
      summary: 上传单个文件
      tags:
      - api
      requestBody:
        content:
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/FileUploadRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/FileUploadRequest'
        required: true
      security:
      - tokenAuth: []
      responses:
        '201':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UploadedFile'
          description: ''
  /api/v1/health/:
    get:
      operationId: api_v1_health_retrieve
      description: 健康检查端点
      tags:
      - api
      security:
      - tokenAuth: []
      - {}
      responses:
        '200':
          description: No response body
  /api/v1/monthly/configs:
    get:
      operationId: api_v1_monthly_configs_list
      description: 月度报表配置管理视图集
      parameters:
      - name: page
        required: false
        in: query
        description: A page number within the paginated result set.
        schema:
          type: integer
      tags:
      - api
      security:
      - tokenAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PaginatedMonthlyReportConfigList'
          description: ''
    post:
      operationId: api_v1_monthly_configs_create
      description: 月度报表配置管理视图集
      tags:
      - api
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/MonthlyReportConfigRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/MonthlyReportConfigRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/MonthlyReportConfigRequest'
        required: true
      security:
      - tokenAuth: []
      responses:
        '201':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/MonthlyReportConfig'
          description: ''
  /api/v1/monthly/configs/{id}:
    get:
      operationId: api_v1_monthly_configs_retrieve
      description: 月度报表配置管理视图集
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: A unique integer value identifying this 月度报表配置.
        required: true
      tags:
      - api
      security:
      - tokenAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/MonthlyReportConfig'
          description: ''
    put:
      operationId: api_v1_monthly_configs_update
      description: 月度报表配置管理视图集
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: A unique integer value identifying this 月度报表配置.
        required: true
      tags:
      - api
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/MonthlyReportConfigRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/MonthlyReportConfigRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/MonthlyReportConfigRequest'
        required: true
      security:
      - tokenAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/MonthlyReportConfig'
          description: ''
    patch:
      operationId: api_v1_monthly_configs_partial_update
      description: 月度报表配置管理视图集
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: A unique integer value identifying this 月度报表配置.
        required: true
      tags:
      - api
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PatchedMonthlyReportConfigRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/PatchedMonthlyReportConfigRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/PatchedMonthlyReportConfigRequest'
      security:
      - tokenAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/MonthlyReportConfig'
          description: ''
    delete:
      operationId: api_v1_monthly_configs_destroy
      description: 月度报表配置管理视图集
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: A unique integer value identifying this 月度报表配置.
        required: true
      tags:
      - api
      security:
      - tokenAuth: []
      responses:
        '204':
          description: No response body
  /api/v1/monthly/create:
    post:
      operationId: api_v1_monthly_create_create
      description: 基于CSV和日志文件创建月度报表
      summary: 创建月度报表
      tags:
      - api
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/MonthlyReportCreateRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/MonthlyReportCreateRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/MonthlyReportCreateRequest'
        required: true
      security:
      - tokenAuth: []
      responses:
        '201':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/MonthlyReport'
          description: ''
  /api/v1/monthly/create/:
    post:
      operationId: api_v1_monthly_create_create_2
      description: 基于CSV和日志文件创建月度报表
      summary: 创建月度报表
      tags:
      - api
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/MonthlyReportCreateRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/MonthlyReportCreateRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/MonthlyReportCreateRequest'
        required: true
      security:
      - tokenAuth: []
      responses:
        '201':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/MonthlyReport'
          description: ''
  /api/v1/monthly/create-from-db:
    post:
      operationId: api_v1_monthly_create_from_db_create
      description: 从数据库订单记录生成月度报表，不依赖CSV文件
      summary: 基于数据库生成月度报表
      tags:
      - api
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/GenerateFromDBRequestRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/GenerateFromDBRequestRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/GenerateFromDBRequestRequest'
        required: true
      security:
      - tokenAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                description: 报表生成成功
          description: ''
  /api/v1/monthly/create-from-db/:
    post:
      operationId: api_v1_monthly_create_from_db_create_2
      description: 从数据库订单记录生成月度报表，不依赖CSV文件
      summary: 基于数据库生成月度报表
      tags:
      - api
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/GenerateFromDBRequestRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/GenerateFromDBRequestRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/GenerateFromDBRequestRequest'
        required: true
      security:
      - tokenAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                description: 报表生成成功
          description: ''
  /api/v1/monthly/reports:
    get:
      operationId: api_v1_monthly_reports_list
      description: 月度报表管理视图集
      parameters:
      - name: page
        required: false
        in: query
        description: A page number within the paginated result set.
        schema:
          type: integer
      tags:
      - api
      security:
      - tokenAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PaginatedMonthlyReportList'
          description: ''
    post:
      operationId: api_v1_monthly_reports_create
      description: 月度报表管理视图集
      tags:
      - api
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/MonthlyReportRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/MonthlyReportRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/MonthlyReportRequest'
        required: true
      security:
      - tokenAuth: []
      responses:
        '201':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/MonthlyReport'
          description: ''
  /api/v1/monthly/reports/{id}:
    get:
      operationId: api_v1_monthly_reports_retrieve
      description: 月度报表管理视图集
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: A unique integer value identifying this 月度报表.
        required: true
      tags:
      - api
      security:
      - tokenAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/MonthlyReportDetail'
          description: ''
    put:
      operationId: api_v1_monthly_reports_update
      description: 月度报表管理视图集
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: A unique integer value identifying this 月度报表.
        required: true
      tags:
      - api
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/MonthlyReportRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/MonthlyReportRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/MonthlyReportRequest'
        required: true
      security:
      - tokenAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/MonthlyReport'
          description: ''
    patch:
      operationId: api_v1_monthly_reports_partial_update
      description: 月度报表管理视图集
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: A unique integer value identifying this 月度报表.
        required: true
      tags:
      - api
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PatchedMonthlyReportRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/PatchedMonthlyReportRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/PatchedMonthlyReportRequest'
      security:
      - tokenAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/MonthlyReport'
          description: ''
    delete:
      operationId: api_v1_monthly_reports_destroy
      description: 月度报表管理视图集
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: A unique integer value identifying this 月度报表.
        required: true
      tags:
      - api
      security:
      - tokenAuth: []
      responses:
        '204':
          description: No response body
  /api/v1/monthly/reports/{id}/download_excel:
    get:
      operationId: api_v1_monthly_reports_download_excel_retrieve
      description: 下载月度报表的Excel文件
      summary: 下载Excel文件
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: A unique integer value identifying this 月度报表.
        required: true
      tags:
      - api
      security:
      - tokenAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                type: string
                format: binary
          description: ''
  /api/v1/monthly/reports/{id}/download_pdf:
    get:
      operationId: api_v1_monthly_reports_download_pdf_retrieve
      description: 下载月度报表的PDF文件
      summary: 下载PDF文件
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: A unique integer value identifying this 月度报表.
        required: true
      tags:
      - api
      security:
      - tokenAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                type: string
                format: binary
          description: ''
  /api/v1/monthly/reports/{id}/generate:
    post:
      operationId: api_v1_monthly_reports_generate_create
      description: 生成指定月度报表的Excel和PDF文件
      summary: 生成月度报表
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: A unique integer value identifying this 月度报表.
        required: true
      tags:
      - api
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/MonthlyReportGenerateRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/MonthlyReportGenerateRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/MonthlyReportGenerateRequest'
      security:
      - tokenAuth: []
      responses:
        '202':
          content:
            application/json:
              schema:
                description: 生成已开始
          description: ''
  /api/v1/monthly/stats:
    get:
      operationId: api_v1_monthly_stats_retrieve
      description: 获取当前用户的月度报表统计信息
      summary: 获取月度报表统计信息
      tags:
      - api
      security:
      - tokenAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/MonthlyReportStats'
          description: ''
  /api/v1/monthly/stats/:
    get:
      operationId: api_v1_monthly_stats_retrieve_2
      description: 获取当前用户的月度报表统计信息
      summary: 获取月度报表统计信息
      tags:
      - api
      security:
      - tokenAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/MonthlyReportStats'
          description: ''
  /api/v1/monthly/upload-labor-cost:
    post:
      operationId: api_v1_monthly_upload_labor_cost_create
      description: 上传txt格式的人工成本文件，用于月度报表生成
      summary: 上传人工成本文件
      tags:
      - api
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/LaborCostFileUploadRequestRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/LaborCostFileUploadRequestRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/LaborCostFileUploadRequestRequest'
        required: true
      security:
      - tokenAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                description: 文件上传成功
          description: ''
  /api/v1/monthly/upload-labor-cost/:
    post:
      operationId: api_v1_monthly_upload_labor_cost_create_2
      description: 上传txt格式的人工成本文件，用于月度报表生成
      summary: 上传人工成本文件
      tags:
      - api
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/LaborCostFileUploadRequestRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/LaborCostFileUploadRequestRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/LaborCostFileUploadRequestRequest'
        required: true
      security:
      - tokenAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                description: 文件上传成功
          description: ''
  /api/v1/ocr/data-sync:
    get:
      operationId: api_v1_ocr_data_sync_retrieve
      description: 获取数据同步状态信息
      summary: 获取同步状态
      tags:
      - api
      security:
      - tokenAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                type: object
                properties:
                  database_points:
                    type: integer
                  database_values:
                    type: integer
                  json_file_exists:
                    type: boolean
                  txt_file_exists:
                    type: boolean
                  last_sync_time:
                    type: string
          description: ''
    post:
      operationId: api_v1_ocr_data_sync_create
      description: 从GUI版本的数据文件同步点位学习数据
      summary: 从GUI数据同步
      tags:
      - api
      security:
      - tokenAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                type: object
                properties:
                  synced_from_json:
                    type: integer
                  synced_from_txt:
                    type: integer
                  total_synced:
                    type: integer
                  errors:
                    type: array
                    items:
                      type: string
          description: ''
    put:
      operationId: api_v1_ocr_data_sync_update
      description: 导出数据为GUI版本兼容的格式
      summary: 导出为GUI格式
      tags:
      - api
      security:
      - tokenAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                type: object
                properties:
                  exported_json:
                    type: boolean
                  exported_txt:
                    type: boolean
                  point_count:
                    type: integer
                  errors:
                    type: array
                    items:
                      type: string
          description: ''
  /api/v1/ocr/data-sync/:
    get:
      operationId: api_v1_ocr_data_sync_retrieve_2
      description: 获取数据同步状态信息
      summary: 获取同步状态
      tags:
      - api
      security:
      - tokenAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                type: object
                properties:
                  database_points:
                    type: integer
                  database_values:
                    type: integer
                  json_file_exists:
                    type: boolean
                  txt_file_exists:
                    type: boolean
                  last_sync_time:
                    type: string
          description: ''
    post:
      operationId: api_v1_ocr_data_sync_create_2
      description: 从GUI版本的数据文件同步点位学习数据
      summary: 从GUI数据同步
      tags:
      - api
      security:
      - tokenAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                type: object
                properties:
                  synced_from_json:
                    type: integer
                  synced_from_txt:
                    type: integer
                  total_synced:
                    type: integer
                  errors:
                    type: array
                    items:
                      type: string
          description: ''
    put:
      operationId: api_v1_ocr_data_sync_update_2
      description: 导出数据为GUI版本兼容的格式
      summary: 导出为GUI格式
      tags:
      - api
      security:
      - tokenAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                type: object
                properties:
                  exported_json:
                    type: boolean
                  exported_txt:
                    type: boolean
                  point_count:
                    type: integer
                  errors:
                    type: array
                    items:
                      type: string
          description: ''
  /api/v1/ocr/infer-check-type:
    post:
      operationId: api_v1_ocr_infer_check_type_create
      description: 根据点位数据推断是初检还是复检
      summary: 推断检测类型
      tags:
      - api
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CheckTypeInferenceRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/CheckTypeInferenceRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/CheckTypeInferenceRequest'
        required: true
      security:
      - tokenAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                type: object
                properties:
                  inferred_type:
                    type: string
                    enum:
                    - initial
                    - recheck
                  confidence:
                    type: number
                  statistics:
                    type: object
                    properties:
                      high_count:
                        type: integer
                      low_count:
                        type: integer
                      threshold:
                        type: number
                      total_points:
                        type: integer
          description: ''
  /api/v1/ocr/infer-check-type/:
    post:
      operationId: api_v1_ocr_infer_check_type_create_2
      description: 根据点位数据推断是初检还是复检
      summary: 推断检测类型
      tags:
      - api
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CheckTypeInferenceRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/CheckTypeInferenceRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/CheckTypeInferenceRequest'
        required: true
      security:
      - tokenAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                type: object
                properties:
                  inferred_type:
                    type: string
                    enum:
                    - initial
                    - recheck
                  confidence:
                    type: number
                  statistics:
                    type: object
                    properties:
                      high_count:
                        type: integer
                      low_count:
                        type: integer
                      threshold:
                        type: number
                      total_points:
                        type: integer
          description: ''
  /api/v1/ocr/point-learning:
    get:
      operationId: api_v1_ocr_point_learning_list
      description: 点位学习管理视图集
      parameters:
      - name: page
        required: false
        in: query
        description: A page number within the paginated result set.
        schema:
          type: integer
      tags:
      - api
      security:
      - tokenAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PaginatedPointLearningList'
          description: ''
    post:
      operationId: api_v1_ocr_point_learning_create
      description: 点位学习管理视图集
      tags:
      - api
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PointLearningRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/PointLearningRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/PointLearningRequest'
        required: true
      security:
      - tokenAuth: []
      responses:
        '201':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PointLearning'
          description: ''
  /api/v1/ocr/point-learning/{id}:
    get:
      operationId: api_v1_ocr_point_learning_retrieve
      description: 点位学习管理视图集
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: A unique integer value identifying this 点位学习.
        required: true
      tags:
      - api
      security:
      - tokenAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PointLearning'
          description: ''
    put:
      operationId: api_v1_ocr_point_learning_update
      description: 点位学习管理视图集
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: A unique integer value identifying this 点位学习.
        required: true
      tags:
      - api
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PointLearningRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/PointLearningRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/PointLearningRequest'
        required: true
      security:
      - tokenAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PointLearning'
          description: ''
    patch:
      operationId: api_v1_ocr_point_learning_partial_update
      description: 点位学习管理视图集
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: A unique integer value identifying this 点位学习.
        required: true
      tags:
      - api
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PatchedPointLearningRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/PatchedPointLearningRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/PatchedPointLearningRequest'
      security:
      - tokenAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PointLearning'
          description: ''
    delete:
      operationId: api_v1_ocr_point_learning_destroy
      description: 点位学习管理视图集
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: A unique integer value identifying this 点位学习.
        required: true
      tags:
      - api
      security:
      - tokenAuth: []
      responses:
        '204':
          description: No response body
  /api/v1/ocr/point-learning/popular:
    get:
      operationId: api_v1_ocr_point_learning_popular_retrieve
      description: 获取使用频率最高的点位列表
      summary: 获取热门点位
      tags:
      - api
      security:
      - tokenAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PointLearning'
          description: ''
  /api/v1/ocr/point-learning/suggestions:
    post:
      operationId: api_v1_ocr_point_learning_suggestions_create
      description: 根据已有点位获取智能建议
      summary: 获取点位建议
      parameters:
      - name: page
        required: false
        in: query
        description: A page number within the paginated result set.
        schema:
          type: integer
      tags:
      - api
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PointSuggestionRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/PointSuggestionRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/PointSuggestionRequest'
      security:
      - tokenAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PaginatedPointLearningList'
          description: ''
  /api/v1/ocr/point-learning/update_learning:
    post:
      operationId: api_v1_ocr_point_learning_update_learning_create
      description: 批量更新点位使用统计
      summary: 更新点位学习数据
      tags:
      - api
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PointLearningUpdateRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/PointLearningUpdateRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/PointLearningUpdateRequest'
        required: true
      security:
      - tokenAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
          description: ''
  /api/v1/ocr/point-values:
    get:
      operationId: api_v1_ocr_point_values_list
      description: 点位值记录管理视图集
      parameters:
      - name: page
        required: false
        in: query
        description: A page number within the paginated result set.
        schema:
          type: integer
      tags:
      - api
      security:
      - tokenAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PaginatedPointValueList'
          description: ''
    post:
      operationId: api_v1_ocr_point_values_create
      description: 点位值记录管理视图集
      tags:
      - api
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PointValueRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/PointValueRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/PointValueRequest'
        required: true
      security:
      - tokenAuth: []
      responses:
        '201':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PointValue'
          description: ''
  /api/v1/ocr/point-values/{id}:
    get:
      operationId: api_v1_ocr_point_values_retrieve
      description: 点位值记录管理视图集
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: A unique integer value identifying this 点位值记录.
        required: true
      tags:
      - api
      security:
      - tokenAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PointValue'
          description: ''
    put:
      operationId: api_v1_ocr_point_values_update
      description: 点位值记录管理视图集
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: A unique integer value identifying this 点位值记录.
        required: true
      tags:
      - api
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PointValueRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/PointValueRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/PointValueRequest'
        required: true
      security:
      - tokenAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PointValue'
          description: ''
    patch:
      operationId: api_v1_ocr_point_values_partial_update
      description: 点位值记录管理视图集
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: A unique integer value identifying this 点位值记录.
        required: true
      tags:
      - api
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PatchedPointValueRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/PatchedPointValueRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/PatchedPointValueRequest'
      security:
      - tokenAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PointValue'
          description: ''
    delete:
      operationId: api_v1_ocr_point_values_destroy
      description: 点位值记录管理视图集
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: A unique integer value identifying this 点位值记录.
        required: true
      tags:
      - api
      security:
      - tokenAuth: []
      responses:
        '204':
          description: No response body
  /api/v1/ocr/process:
    post:
      operationId: api_v1_ocr_process_create
      description: 对已上传的图片进行OCR处理
      summary: 处理已上传的图片
      tags:
      - api
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/OCRProcessRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/OCRProcessRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/OCRProcessRequest'
        required: true
      security:
      - tokenAuth: []
      responses:
        '202':
          content:
            application/json:
              schema:
                description: 处理已开始
          description: ''
  /api/v1/ocr/process/:
    post:
      operationId: api_v1_ocr_process_create_2
      description: 对已上传的图片进行OCR处理
      summary: 处理已上传的图片
      tags:
      - api
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/OCRProcessRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/OCRProcessRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/OCRProcessRequest'
        required: true
      security:
      - tokenAuth: []
      responses:
        '202':
          content:
            application/json:
              schema:
                description: 处理已开始
          description: ''
  /api/v1/ocr/results:
    get:
      operationId: api_v1_ocr_results_list
      description: OCR结果管理视图集
      parameters:
      - name: page
        required: false
        in: query
        description: A page number within the paginated result set.
        schema:
          type: integer
      tags:
      - api
      security:
      - tokenAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PaginatedOCRResultList'
          description: ''
    post:
      operationId: api_v1_ocr_results_create
      description: OCR结果管理视图集
      tags:
      - api
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/OCRResultRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/OCRResultRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/OCRResultRequest'
        required: true
      security:
      - tokenAuth: []
      responses:
        '201':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/OCRResult'
          description: ''
  /api/v1/ocr/results/{id}:
    get:
      operationId: api_v1_ocr_results_retrieve
      description: OCR结果管理视图集
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: A unique integer value identifying this OCR结果.
        required: true
      tags:
      - api
      security:
      - tokenAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/OCRResult'
          description: ''
    put:
      operationId: api_v1_ocr_results_update
      description: OCR结果管理视图集
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: A unique integer value identifying this OCR结果.
        required: true
      tags:
      - api
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/OCRResultUpdateRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/OCRResultUpdateRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/OCRResultUpdateRequest'
      security:
      - tokenAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/OCRResultUpdate'
          description: ''
    patch:
      operationId: api_v1_ocr_results_partial_update
      description: OCR结果管理视图集
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: A unique integer value identifying this OCR结果.
        required: true
      tags:
      - api
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PatchedOCRResultUpdateRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/PatchedOCRResultUpdateRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/PatchedOCRResultUpdateRequest'
      security:
      - tokenAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/OCRResultUpdate'
          description: ''
    delete:
      operationId: api_v1_ocr_results_destroy
      description: OCR结果管理视图集
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: A unique integer value identifying this OCR结果.
        required: true
      tags:
      - api
      security:
      - tokenAuth: []
      responses:
        '204':
          description: No response body
  /api/v1/ocr/results/{id}/reprocess:
    post:
      operationId: api_v1_ocr_results_reprocess_create
      description: 重新处理指定的OCR结果
      summary: 重新处理OCR
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: A unique integer value identifying this OCR结果.
        required: true
      tags:
      - api
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/OCRProcessRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/OCRProcessRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/OCRProcessRequest'
        required: true
      security:
      - tokenAuth: []
      responses:
        '202':
          content:
            application/json:
              schema:
                description: 处理已开始
          description: ''
  /api/v1/ocr/results/{id}/update_contact:
    post:
      operationId: api_v1_ocr_results_update_contact_create
      description: 更新OCR结果关联的联系人信息
      summary: 更新联系人信息
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: A unique integer value identifying this OCR结果.
        required: true
      tags:
      - api
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ContactInfoUpdateRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/ContactInfoUpdateRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/ContactInfoUpdateRequest'
      security:
      - tokenAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ContactInfo'
          description: ''
    put:
      operationId: api_v1_ocr_results_update_contact_update
      description: 更新OCR结果关联的联系人信息
      summary: 更新联系人信息
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: A unique integer value identifying this OCR结果.
        required: true
      tags:
      - api
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ContactInfoUpdateRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/ContactInfoUpdateRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/ContactInfoUpdateRequest'
      security:
      - tokenAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ContactInfo'
          description: ''
  /api/v1/ocr/test:
    post:
      operationId: api_v1_ocr_test_create
      description: 直接测试OCR处理功能，不保存到数据库
      summary: 测试OCR处理
      tags:
      - api
      requestBody:
        content:
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/ImageUploadAndProcessRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/ImageUploadAndProcessRequest'
        required: true
      security:
      - tokenAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                description: OCR测试结果
          description: ''
  /api/v1/ocr/test/:
    post:
      operationId: api_v1_ocr_test_create_2
      description: 直接测试OCR处理功能，不保存到数据库
      summary: 测试OCR处理
      tags:
      - api
      requestBody:
        content:
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/ImageUploadAndProcessRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/ImageUploadAndProcessRequest'
        required: true
      security:
      - tokenAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                description: OCR测试结果
          description: ''
  /api/v1/ocr/upload-and-process:
    post:
      operationId: api_v1_ocr_upload_and_process_create
      description: 上传图片文件并立即进行OCR处理
      summary: 上传图片并进行OCR处理
      tags:
      - api
      requestBody:
        content:
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/ImageUploadAndProcessRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/ImageUploadAndProcessRequest'
        required: true
      security:
      - tokenAuth: []
      responses:
        '202':
          content:
            application/json:
              schema:
                description: 上传和处理已开始
          description: ''
  /api/v1/ocr/upload-and-process/:
    post:
      operationId: api_v1_ocr_upload_and_process_create_2
      description: 上传图片文件并立即进行OCR处理
      summary: 上传图片并进行OCR处理
      tags:
      - api
      requestBody:
        content:
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/ImageUploadAndProcessRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/ImageUploadAndProcessRequest'
        required: true
      security:
      - tokenAuth: []
      responses:
        '202':
          content:
            application/json:
              schema:
                description: 上传和处理已开始
          description: ''
  /api/v1/orders/process:
    post:
      operationId: api_v1_orders_process_create
      description: 处理订单信息并返回格式化结果
      tags:
      - api
      security:
      - tokenAuth: []
      responses:
        '200':
          description: No response body
  /api/v1/orders/process/:
    post:
      operationId: api_v1_orders_process_create_2
      description: 处理订单信息并返回格式化结果
      tags:
      - api
      security:
      - tokenAuth: []
      responses:
        '200':
          description: No response body
  /api/v1/orders/process-multiple:
    post:
      operationId: api_v1_orders_process_multiple_create
      description: 处理多个订单信息并返回格式化结果
      tags:
      - api
      security:
      - tokenAuth: []
      responses:
        '200':
          description: No response body
  /api/v1/orders/process-multiple/:
    post:
      operationId: api_v1_orders_process_multiple_create_2
      description: 处理多个订单信息并返回格式化结果
      tags:
      - api
      security:
      - tokenAuth: []
      responses:
        '200':
          description: No response body
  /api/v1/orders/records:
    get:
      operationId: api_v1_orders_records_list
      description: 订单记录列表视图
      parameters:
      - name: page
        required: false
        in: query
        description: A page number within the paginated result set.
        schema:
          type: integer
      tags:
      - api
      security:
      - tokenAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PaginatedOrderRecordList'
          description: ''
    post:
      operationId: api_v1_orders_records_create
      description: 订单记录列表视图
      tags:
      - api
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/OrderRecordRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/OrderRecordRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/OrderRecordRequest'
        required: true
      security:
      - tokenAuth: []
      responses:
        '201':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/OrderRecord'
          description: ''
  /api/v1/orders/records/:
    get:
      operationId: api_v1_orders_records_list_2
      description: 订单记录列表视图
      parameters:
      - name: page
        required: false
        in: query
        description: A page number within the paginated result set.
        schema:
          type: integer
      tags:
      - api
      security:
      - tokenAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PaginatedOrderRecordList'
          description: ''
    post:
      operationId: api_v1_orders_records_create_2
      description: 订单记录列表视图
      tags:
      - api
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/OrderRecordRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/OrderRecordRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/OrderRecordRequest'
        required: true
      security:
      - tokenAuth: []
      responses:
        '201':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/OrderRecord'
          description: ''
  /api/v1/orders/records/{id}:
    get:
      operationId: api_v1_orders_records_retrieve
      description: 订单记录详情视图
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        required: true
      tags:
      - api
      security:
      - tokenAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/OrderRecord'
          description: ''
    put:
      operationId: api_v1_orders_records_update
      description: 订单记录详情视图
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        required: true
      tags:
      - api
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/OrderRecordRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/OrderRecordRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/OrderRecordRequest'
        required: true
      security:
      - tokenAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/OrderRecord'
          description: ''
    patch:
      operationId: api_v1_orders_records_partial_update
      description: 订单记录详情视图
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        required: true
      tags:
      - api
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PatchedOrderRecordRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/PatchedOrderRecordRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/PatchedOrderRecordRequest'
      security:
      - tokenAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/OrderRecord'
          description: ''
    delete:
      operationId: api_v1_orders_records_destroy
      description: 订单记录详情视图
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        required: true
      tags:
      - api
      security:
      - tokenAuth: []
      responses:
        '204':
          description: No response body
  /api/v1/orders/records/{id}/:
    get:
      operationId: api_v1_orders_records_retrieve_2
      description: 订单记录详情视图
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        required: true
      tags:
      - api
      security:
      - tokenAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/OrderRecord'
          description: ''
    put:
      operationId: api_v1_orders_records_update_2
      description: 订单记录详情视图
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        required: true
      tags:
      - api
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/OrderRecordRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/OrderRecordRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/OrderRecordRequest'
        required: true
      security:
      - tokenAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/OrderRecord'
          description: ''
    patch:
      operationId: api_v1_orders_records_partial_update_2
      description: 订单记录详情视图
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        required: true
      tags:
      - api
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PatchedOrderRecordRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/PatchedOrderRecordRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/PatchedOrderRecordRequest'
      security:
      - tokenAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/OrderRecord'
          description: ''
    delete:
      operationId: api_v1_orders_records_destroy_2
      description: 订单记录详情视图
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        required: true
      tags:
      - api
      security:
      - tokenAuth: []
      responses:
        '204':
          description: No response body
  /api/v1/orders/submit:
    post:
      operationId: api_v1_orders_submit_create
      description: 提交订单数据到数据库
      tags:
      - api
      security:
      - tokenAuth: []
      responses:
        '200':
          description: No response body
  /api/v1/orders/submit/:
    post:
      operationId: api_v1_orders_submit_create_2
      description: 提交订单数据到数据库
      tags:
      - api
      security:
      - tokenAuth: []
      responses:
        '200':
          description: No response body
  /api/v1/orders/submit-multiple:
    post:
      operationId: api_v1_orders_submit_multiple_create
      description: 批量提交订单数据到数据库
      tags:
      - api
      security:
      - tokenAuth: []
      responses:
        '200':
          description: No response body
  /api/v1/orders/submit-multiple/:
    post:
      operationId: api_v1_orders_submit_multiple_create_2
      description: 批量提交订单数据到数据库
      tags:
      - api
      security:
      - tokenAuth: []
      responses:
        '200':
          description: No response body
  /api/v1/orders/update:
    post:
      operationId: api_v1_orders_update_create
      description: 更新订单数据并返回验证结果
      tags:
      - api
      security:
      - tokenAuth: []
      responses:
        '200':
          description: No response body
  /api/v1/orders/update/:
    post:
      operationId: api_v1_orders_update_create_2
      description: 更新订单数据并返回验证结果
      tags:
      - api
      security:
      - tokenAuth: []
      responses:
        '200':
          description: No response body
  /api/v1/ordersprocess:
    post:
      operationId: api_v1_ordersprocess_create
      description: 处理订单信息并返回格式化结果
      tags:
      - api
      security:
      - tokenAuth: []
      responses:
        '200':
          description: No response body
  /api/v1/ordersprocess/:
    post:
      operationId: api_v1_ordersprocess_create_2
      description: 处理订单信息并返回格式化结果
      tags:
      - api
      security:
      - tokenAuth: []
      responses:
        '200':
          description: No response body
  /api/v1/ordersprocess-multiple:
    post:
      operationId: api_v1_ordersprocess_multiple_create
      description: 处理多个订单信息并返回格式化结果
      tags:
      - api
      security:
      - tokenAuth: []
      responses:
        '200':
          description: No response body
  /api/v1/ordersprocess-multiple/:
    post:
      operationId: api_v1_ordersprocess_multiple_create_2
      description: 处理多个订单信息并返回格式化结果
      tags:
      - api
      security:
      - tokenAuth: []
      responses:
        '200':
          description: No response body
  /api/v1/ordersrecords:
    get:
      operationId: api_v1_ordersrecords_list
      description: 订单记录列表视图
      parameters:
      - name: page
        required: false
        in: query
        description: A page number within the paginated result set.
        schema:
          type: integer
      tags:
      - api
      security:
      - tokenAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PaginatedOrderRecordList'
          description: ''
    post:
      operationId: api_v1_ordersrecords_create
      description: 订单记录列表视图
      tags:
      - api
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/OrderRecordRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/OrderRecordRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/OrderRecordRequest'
        required: true
      security:
      - tokenAuth: []
      responses:
        '201':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/OrderRecord'
          description: ''
  /api/v1/ordersrecords/:
    get:
      operationId: api_v1_ordersrecords_list_2
      description: 订单记录列表视图
      parameters:
      - name: page
        required: false
        in: query
        description: A page number within the paginated result set.
        schema:
          type: integer
      tags:
      - api
      security:
      - tokenAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PaginatedOrderRecordList'
          description: ''
    post:
      operationId: api_v1_ordersrecords_create_2
      description: 订单记录列表视图
      tags:
      - api
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/OrderRecordRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/OrderRecordRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/OrderRecordRequest'
        required: true
      security:
      - tokenAuth: []
      responses:
        '201':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/OrderRecord'
          description: ''
  /api/v1/ordersrecords/{id}:
    get:
      operationId: api_v1_ordersrecords_retrieve
      description: 订单记录详情视图
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        required: true
      tags:
      - api
      security:
      - tokenAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/OrderRecord'
          description: ''
    put:
      operationId: api_v1_ordersrecords_update
      description: 订单记录详情视图
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        required: true
      tags:
      - api
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/OrderRecordRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/OrderRecordRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/OrderRecordRequest'
        required: true
      security:
      - tokenAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/OrderRecord'
          description: ''
    patch:
      operationId: api_v1_ordersrecords_partial_update
      description: 订单记录详情视图
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        required: true
      tags:
      - api
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PatchedOrderRecordRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/PatchedOrderRecordRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/PatchedOrderRecordRequest'
      security:
      - tokenAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/OrderRecord'
          description: ''
    delete:
      operationId: api_v1_ordersrecords_destroy
      description: 订单记录详情视图
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        required: true
      tags:
      - api
      security:
      - tokenAuth: []
      responses:
        '204':
          description: No response body
  /api/v1/ordersrecords/{id}/:
    get:
      operationId: api_v1_ordersrecords_retrieve_2
      description: 订单记录详情视图
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        required: true
      tags:
      - api
      security:
      - tokenAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/OrderRecord'
          description: ''
    put:
      operationId: api_v1_ordersrecords_update_2
      description: 订单记录详情视图
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        required: true
      tags:
      - api
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/OrderRecordRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/OrderRecordRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/OrderRecordRequest'
        required: true
      security:
      - tokenAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/OrderRecord'
          description: ''
    patch:
      operationId: api_v1_ordersrecords_partial_update_2
      description: 订单记录详情视图
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        required: true
      tags:
      - api
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PatchedOrderRecordRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/PatchedOrderRecordRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/PatchedOrderRecordRequest'
      security:
      - tokenAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/OrderRecord'
          description: ''
    delete:
      operationId: api_v1_ordersrecords_destroy_2
      description: 订单记录详情视图
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        required: true
      tags:
      - api
      security:
      - tokenAuth: []
      responses:
        '204':
          description: No response body
  /api/v1/orderssubmit:
    post:
      operationId: api_v1_orderssubmit_create
      description: 提交订单数据到数据库
      tags:
      - api
      security:
      - tokenAuth: []
      responses:
        '200':
          description: No response body
  /api/v1/orderssubmit/:
    post:
      operationId: api_v1_orderssubmit_create_2
      description: 提交订单数据到数据库
      tags:
      - api
      security:
      - tokenAuth: []
      responses:
        '200':
          description: No response body
  /api/v1/orderssubmit-multiple:
    post:
      operationId: api_v1_orderssubmit_multiple_create
      description: 批量提交订单数据到数据库
      tags:
      - api
      security:
      - tokenAuth: []
      responses:
        '200':
          description: No response body
  /api/v1/orderssubmit-multiple/:
    post:
      operationId: api_v1_orderssubmit_multiple_create_2
      description: 批量提交订单数据到数据库
      tags:
      - api
      security:
      - tokenAuth: []
      responses:
        '200':
          description: No response body
  /api/v1/ordersupdate:
    post:
      operationId: api_v1_ordersupdate_create
      description: 更新订单数据并返回验证结果
      tags:
      - api
      security:
      - tokenAuth: []
      responses:
        '200':
          description: No response body
  /api/v1/ordersupdate/:
    post:
      operationId: api_v1_ordersupdate_create_2
      description: 更新订单数据并返回验证结果
      tags:
      - api
      security:
      - tokenAuth: []
      responses:
        '200':
          description: No response body
  /api/v1/reports:
    get:
      operationId: api_v1_reports_list
      description: 报告管理视图集
      parameters:
      - name: page
        required: false
        in: query
        description: A page number within the paginated result set.
        schema:
          type: integer
      tags:
      - api
      security:
      - tokenAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PaginatedReportList'
          description: ''
    post:
      operationId: api_v1_reports_create
      description: 报告管理视图集
      tags:
      - api
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ReportRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/ReportRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/ReportRequest'
        required: true
      security:
      - tokenAuth: []
      responses:
        '201':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Report'
          description: ''
  /api/v1/reports/:
    get:
      operationId: api_v1_reports_list_2
      description: 报告管理视图集
      parameters:
      - name: page
        required: false
        in: query
        description: A page number within the paginated result set.
        schema:
          type: integer
      tags:
      - api
      security:
      - tokenAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PaginatedReportList'
          description: ''
    post:
      operationId: api_v1_reports_create_2
      description: 报告管理视图集
      tags:
      - api
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ReportRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/ReportRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/ReportRequest'
        required: true
      security:
      - tokenAuth: []
      responses:
        '201':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Report'
          description: ''
  /api/v1/reports{id}:
    get:
      operationId: api_v1_reports_retrieve_2
      description: 报告管理视图集
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: A unique integer value identifying this 报告.
        required: true
      tags:
      - api
      security:
      - tokenAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Report'
          description: ''
    put:
      operationId: api_v1_reports_update_2
      description: 报告管理视图集
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: A unique integer value identifying this 报告.
        required: true
      tags:
      - api
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ReportUpdateRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/ReportUpdateRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/ReportUpdateRequest'
        required: true
      security:
      - tokenAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ReportUpdate'
          description: ''
    patch:
      operationId: api_v1_reports_partial_update_2
      description: 报告管理视图集
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: A unique integer value identifying this 报告.
        required: true
      tags:
      - api
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PatchedReportUpdateRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/PatchedReportUpdateRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/PatchedReportUpdateRequest'
      security:
      - tokenAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ReportUpdate'
          description: ''
    delete:
      operationId: api_v1_reports_destroy_2
      description: 报告管理视图集
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: A unique integer value identifying this 报告.
        required: true
      tags:
      - api
      security:
      - tokenAuth: []
      responses:
        '204':
          description: No response body
  /api/v1/reports{id}/download_docx:
    get:
      operationId: api_v1_reports_download_docx_retrieve_2
      description: 下载报告的Word文件
      summary: 下载Word文件
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: A unique integer value identifying this 报告.
        required: true
      tags:
      - api
      security:
      - tokenAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                type: string
                format: binary
          description: ''
  /api/v1/reports{id}/download_pdf:
    get:
      operationId: api_v1_reports_download_pdf_retrieve_2
      description: 下载报告的PDF文件
      summary: 下载PDF文件
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: A unique integer value identifying this 报告.
        required: true
      tags:
      - api
      security:
      - tokenAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                type: string
                format: binary
          description: ''
  /api/v1/reports{id}/generate:
    post:
      operationId: api_v1_reports_generate_create_2
      description: 生成指定报告的Word和PDF文件
      summary: 生成报告
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: A unique integer value identifying this 报告.
        required: true
      tags:
      - api
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ReportGenerateRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/ReportGenerateRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/ReportGenerateRequest'
      security:
      - tokenAuth: []
      responses:
        '202':
          content:
            application/json:
              schema:
                description: 生成已开始
          description: ''
  /api/v1/reports{id}/generate_wechat_template:
    post:
      operationId: api_v1_reports_generate_wechat_template_create_2
      description: 生成微信通知模板内容
      summary: 生成微信模板
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: A unique integer value identifying this 报告.
        required: true
      tags:
      - api
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ReportRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/ReportRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/ReportRequest'
        required: true
      security:
      - tokenAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                description: 微信模板内容
          description: ''
  /api/v1/reports/{id}:
    get:
      operationId: api_v1_reports_retrieve
      description: 报告管理视图集
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: A unique integer value identifying this 报告.
        required: true
      tags:
      - api
      security:
      - tokenAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Report'
          description: ''
    put:
      operationId: api_v1_reports_update
      description: 报告管理视图集
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: A unique integer value identifying this 报告.
        required: true
      tags:
      - api
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ReportUpdateRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/ReportUpdateRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/ReportUpdateRequest'
        required: true
      security:
      - tokenAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ReportUpdate'
          description: ''
    patch:
      operationId: api_v1_reports_partial_update
      description: 报告管理视图集
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: A unique integer value identifying this 报告.
        required: true
      tags:
      - api
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PatchedReportUpdateRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/PatchedReportUpdateRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/PatchedReportUpdateRequest'
      security:
      - tokenAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ReportUpdate'
          description: ''
    delete:
      operationId: api_v1_reports_destroy
      description: 报告管理视图集
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: A unique integer value identifying this 报告.
        required: true
      tags:
      - api
      security:
      - tokenAuth: []
      responses:
        '204':
          description: No response body
  /api/v1/reports/{id}/download_docx:
    get:
      operationId: api_v1_reports_download_docx_retrieve
      description: 下载报告的Word文件
      summary: 下载Word文件
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: A unique integer value identifying this 报告.
        required: true
      tags:
      - api
      security:
      - tokenAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                type: string
                format: binary
          description: ''
  /api/v1/reports/{id}/download_pdf:
    get:
      operationId: api_v1_reports_download_pdf_retrieve
      description: 下载报告的PDF文件
      summary: 下载PDF文件
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: A unique integer value identifying this 报告.
        required: true
      tags:
      - api
      security:
      - tokenAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                type: string
                format: binary
          description: ''
  /api/v1/reports/{id}/generate:
    post:
      operationId: api_v1_reports_generate_create
      description: 生成指定报告的Word和PDF文件
      summary: 生成报告
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: A unique integer value identifying this 报告.
        required: true
      tags:
      - api
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ReportGenerateRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/ReportGenerateRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/ReportGenerateRequest'
      security:
      - tokenAuth: []
      responses:
        '202':
          content:
            application/json:
              schema:
                description: 生成已开始
          description: ''
  /api/v1/reports/{id}/generate_wechat_template:
    post:
      operationId: api_v1_reports_generate_wechat_template_create
      description: 生成微信通知模板内容
      summary: 生成微信模板
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: A unique integer value identifying this 报告.
        required: true
      tags:
      - api
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ReportRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/ReportRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/ReportRequest'
        required: true
      security:
      - tokenAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                description: 微信模板内容
          description: ''
  /api/v1/reports/create:
    post:
      operationId: api_v1_reports_create_create
      description: 基于OCR结果创建新报告
      summary: 创建新报告
      tags:
      - api
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ReportCreateRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/ReportCreateRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/ReportCreateRequest'
        required: true
      security:
      - tokenAuth: []
      responses:
        '201':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Report'
          description: ''
  /api/v1/reports/create/:
    post:
      operationId: api_v1_reports_create_create_2
      description: 基于OCR结果创建新报告
      summary: 创建新报告
      tags:
      - api
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ReportCreateRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/ReportCreateRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/ReportCreateRequest'
        required: true
      security:
      - tokenAuth: []
      responses:
        '201':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Report'
          description: ''
  /api/v1/reports/stats:
    get:
      operationId: api_v1_reports_stats_retrieve
      description: 获取当前用户的报告统计信息
      summary: 获取报告统计信息
      tags:
      - api
      security:
      - tokenAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ReportStats'
          description: ''
  /api/v1/reports/stats/:
    get:
      operationId: api_v1_reports_stats_retrieve_2
      description: 获取当前用户的报告统计信息
      summary: 获取报告统计信息
      tags:
      - api
      security:
      - tokenAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ReportStats'
          description: ''
  /api/v1/reports/templates:
    get:
      operationId: api_v1_reports_templates_list
      description: 报告模板管理视图集
      parameters:
      - name: page
        required: false
        in: query
        description: A page number within the paginated result set.
        schema:
          type: integer
      tags:
      - api
      security:
      - tokenAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PaginatedReportTemplateList'
          description: ''
    post:
      operationId: api_v1_reports_templates_create
      description: 报告模板管理视图集
      tags:
      - api
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ReportTemplateRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/ReportTemplateRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/ReportTemplateRequest'
        required: true
      security:
      - tokenAuth: []
      responses:
        '201':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ReportTemplate'
          description: ''
  /api/v1/reports/templates/{id}:
    get:
      operationId: api_v1_reports_templates_retrieve
      description: 报告模板管理视图集
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: A unique integer value identifying this 报告模板.
        required: true
      tags:
      - api
      security:
      - tokenAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ReportTemplate'
          description: ''
    put:
      operationId: api_v1_reports_templates_update
      description: 报告模板管理视图集
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: A unique integer value identifying this 报告模板.
        required: true
      tags:
      - api
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ReportTemplateRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/ReportTemplateRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/ReportTemplateRequest'
        required: true
      security:
      - tokenAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ReportTemplate'
          description: ''
    patch:
      operationId: api_v1_reports_templates_partial_update
      description: 报告模板管理视图集
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: A unique integer value identifying this 报告模板.
        required: true
      tags:
      - api
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PatchedReportTemplateRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/PatchedReportTemplateRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/PatchedReportTemplateRequest'
      security:
      - tokenAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ReportTemplate'
          description: ''
    delete:
      operationId: api_v1_reports_templates_destroy
      description: 报告模板管理视图集
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: A unique integer value identifying this 报告模板.
        required: true
      tags:
      - api
      security:
      - tokenAuth: []
      responses:
        '204':
          description: No response body
  /api/v1/reportscreate:
    post:
      operationId: api_v1_reportscreate_create
      description: 基于OCR结果创建新报告
      summary: 创建新报告
      tags:
      - api
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ReportCreateRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/ReportCreateRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/ReportCreateRequest'
        required: true
      security:
      - tokenAuth: []
      responses:
        '201':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Report'
          description: ''
  /api/v1/reportscreate/:
    post:
      operationId: api_v1_reportscreate_create_2
      description: 基于OCR结果创建新报告
      summary: 创建新报告
      tags:
      - api
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ReportCreateRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/ReportCreateRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/ReportCreateRequest'
        required: true
      security:
      - tokenAuth: []
      responses:
        '201':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Report'
          description: ''
  /api/v1/reportsstats:
    get:
      operationId: api_v1_reportsstats_retrieve
      description: 获取当前用户的报告统计信息
      summary: 获取报告统计信息
      tags:
      - api
      security:
      - tokenAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ReportStats'
          description: ''
  /api/v1/reportsstats/:
    get:
      operationId: api_v1_reportsstats_retrieve_2
      description: 获取当前用户的报告统计信息
      summary: 获取报告统计信息
      tags:
      - api
      security:
      - tokenAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ReportStats'
          description: ''
  /api/v1/reportstemplates:
    get:
      operationId: api_v1_reportstemplates_list
      description: 报告模板管理视图集
      parameters:
      - name: page
        required: false
        in: query
        description: A page number within the paginated result set.
        schema:
          type: integer
      tags:
      - api
      security:
      - tokenAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PaginatedReportTemplateList'
          description: ''
    post:
      operationId: api_v1_reportstemplates_create
      description: 报告模板管理视图集
      tags:
      - api
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ReportTemplateRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/ReportTemplateRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/ReportTemplateRequest'
        required: true
      security:
      - tokenAuth: []
      responses:
        '201':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ReportTemplate'
          description: ''
  /api/v1/reportstemplates/{id}:
    get:
      operationId: api_v1_reportstemplates_retrieve
      description: 报告模板管理视图集
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: A unique integer value identifying this 报告模板.
        required: true
      tags:
      - api
      security:
      - tokenAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ReportTemplate'
          description: ''
    put:
      operationId: api_v1_reportstemplates_update
      description: 报告模板管理视图集
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: A unique integer value identifying this 报告模板.
        required: true
      tags:
      - api
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ReportTemplateRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/ReportTemplateRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/ReportTemplateRequest'
        required: true
      security:
      - tokenAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ReportTemplate'
          description: ''
    patch:
      operationId: api_v1_reportstemplates_partial_update
      description: 报告模板管理视图集
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: A unique integer value identifying this 报告模板.
        required: true
      tags:
      - api
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PatchedReportTemplateRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/PatchedReportTemplateRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/PatchedReportTemplateRequest'
      security:
      - tokenAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ReportTemplate'
          description: ''
    delete:
      operationId: api_v1_reportstemplates_destroy
      description: 报告模板管理视图集
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: A unique integer value identifying this 报告模板.
        required: true
      tags:
      - api
      security:
      - tokenAuth: []
      responses:
        '204':
          description: No response body
  /api/v1/version/:
    get:
      operationId: api_v1_version_retrieve
      description: 返回应用版本和部署信息
      tags:
      - api
      security:
      - tokenAuth: []
      - {}
      responses:
        '200':
          description: No response body
components:
  schemas:
    AIConfigHistory:
      type: object
      description: AI配置历史序列化器
      properties:
        id:
          type: integer
          readOnly: true
        config:
          type: integer
          title: 配置
        config_name:
          type: string
          readOnly: true
        action:
          allOf:
          - $ref: '#/components/schemas/ActionEnum'
          title: 操作类型
        action_display:
          type: string
          readOnly: true
        old_data:
          nullable: true
          title: 变更前数据
        new_data:
          nullable: true
          title: 变更后数据
        user:
          type: integer
          nullable: true
          title: 操作用户
        user_name:
          type: string
          readOnly: true
        notes:
          type: string
          title: 备注
        created_at:
          type: string
          format: date-time
          readOnly: true
          title: 创建时间
      required:
      - action
      - action_display
      - config
      - config_name
      - created_at
      - id
      - user_name
    AIServiceConfig:
      type: object
      description: AI服务配置序列化器
      properties:
        id:
          type: integer
          readOnly: true
        name:
          type: string
          title: 配置名称
          description: 用于识别的配置名称
          maxLength: 100
        description:
          type: string
          title: 配置描述
        provider:
          allOf:
          - $ref: '#/components/schemas/ProviderEnum'
          title: 服务提供商
        api_format:
          allOf:
          - $ref: '#/components/schemas/ApiFormatEnum'
          title: API格式
          description: |-
            API调用格式（Gemini格式或OpenAI格式）

            * `gemini` - Gemini格式
            * `openai` - OpenAI格式
        api_base_url:
          type: string
          format: uri
          title: API基础URL
          description: API服务的基础URL
          maxLength: 200
        api_key:
          type: string
          title: API密钥
          description: API访问密钥，将被加密存储
          maxLength: 500
        model_name:
          type: string
          title: 模型名称
          description: 使用的AI模型名称
          maxLength: 100
        timeout_seconds:
          type: integer
          title: 超时时间（秒）
        max_retries:
          type: integer
          title: 最大重试次数
        extra_config: {}
        is_active:
          type: boolean
          title: 是否启用
        is_default:
          type: boolean
          title: 是否为默认配置
        priority:
          type: integer
          title: 优先级
          description: 数值越小优先级越高，用于故障切换
        success_count:
          type: integer
          readOnly: true
          title: 成功调用次数
        failure_count:
          type: integer
          readOnly: true
          title: 失败调用次数
        success_rate:
          type: string
          readOnly: true
        last_used_at:
          type: string
          format: date-time
          readOnly: true
          nullable: true
          title: 最后使用时间
        last_test_at:
          type: string
          format: date-time
          readOnly: true
          nullable: true
          title: 最后测试时间
        last_test_result:
          readOnly: true
          title: 最后测试结果
        created_at:
          type: string
          format: date-time
          readOnly: true
          title: 创建时间
        updated_at:
          type: string
          format: date-time
          readOnly: true
          title: 更新时间
      required:
      - api_base_url
      - api_format
      - api_key
      - created_at
      - failure_count
      - id
      - last_test_at
      - last_test_result
      - last_used_at
      - model_name
      - name
      - provider
      - success_count
      - success_rate
      - updated_at
    AIServiceConfigCreate:
      type: object
      description: AI服务配置创建序列化器
      properties:
        id:
          type: integer
          readOnly: true
        name:
          type: string
          title: 配置名称
          description: 用于识别的配置名称
          maxLength: 100
        description:
          type: string
          title: 配置描述
        provider:
          allOf:
          - $ref: '#/components/schemas/ProviderEnum'
          title: 服务提供商
        api_format:
          allOf:
          - $ref: '#/components/schemas/ApiFormatEnum'
          title: API格式
          description: |-
            API调用格式（Gemini格式或OpenAI格式）

            * `gemini` - Gemini格式
            * `openai` - OpenAI格式
        api_base_url:
          type: string
          format: uri
          title: API基础URL
          description: API服务的基础URL
          maxLength: 200
        api_key:
          type: string
          title: API密钥
          description: API访问密钥，将被加密存储
          maxLength: 500
        model_name:
          type: string
          title: 模型名称
          description: 使用的AI模型名称
          maxLength: 100
        timeout_seconds:
          type: integer
          title: 超时时间（秒）
        max_retries:
          type: integer
          title: 最大重试次数
        extra_config: {}
        is_active:
          type: boolean
          title: 是否启用
        is_default:
          type: boolean
          title: 是否为默认配置
        priority:
          type: integer
          title: 优先级
          description: 数值越小优先级越高，用于故障切换
        success_count:
          type: integer
          readOnly: true
          title: 成功调用次数
        failure_count:
          type: integer
          readOnly: true
          title: 失败调用次数
        success_rate:
          type: string
          readOnly: true
        last_used_at:
          type: string
          format: date-time
          readOnly: true
          nullable: true
          title: 最后使用时间
        last_test_at:
          type: string
          format: date-time
          readOnly: true
          nullable: true
          title: 最后测试时间
        last_test_result:
          readOnly: true
          title: 最后测试结果
        created_at:
          type: string
          format: date-time
          readOnly: true
          title: 创建时间
        updated_at:
          type: string
          format: date-time
          readOnly: true
          title: 更新时间
      required:
      - api_base_url
      - api_format
      - api_key
      - created_at
      - failure_count
      - id
      - last_test_at
      - last_test_result
      - last_used_at
      - model_name
      - name
      - provider
      - success_count
      - success_rate
      - updated_at
    AIServiceConfigCreateRequest:
      type: object
      description: AI服务配置创建序列化器
      properties:
        name:
          type: string
          minLength: 1
          title: 配置名称
          description: 用于识别的配置名称
          maxLength: 100
        description:
          type: string
          title: 配置描述
        provider:
          allOf:
          - $ref: '#/components/schemas/ProviderEnum'
          title: 服务提供商
        api_format:
          allOf:
          - $ref: '#/components/schemas/ApiFormatEnum'
          title: API格式
          description: |-
            API调用格式（Gemini格式或OpenAI格式）

            * `gemini` - Gemini格式
            * `openai` - OpenAI格式
        api_base_url:
          type: string
          format: uri
          minLength: 1
          title: API基础URL
          description: API服务的基础URL
          maxLength: 200
        api_key:
          type: string
          minLength: 1
          title: API密钥
          description: API访问密钥，将被加密存储
          maxLength: 500
        model_name:
          type: string
          minLength: 1
          title: 模型名称
          description: 使用的AI模型名称
          maxLength: 100
        timeout_seconds:
          type: integer
          title: 超时时间（秒）
        max_retries:
          type: integer
          title: 最大重试次数
        extra_config: {}
        is_active:
          type: boolean
          title: 是否启用
        is_default:
          type: boolean
          title: 是否为默认配置
        priority:
          type: integer
          title: 优先级
          description: 数值越小优先级越高，用于故障切换
      required:
      - api_base_url
      - api_format
      - api_key
      - model_name
      - name
      - provider
    AIServiceConfigRequest:
      type: object
      description: AI服务配置序列化器
      properties:
        name:
          type: string
          minLength: 1
          title: 配置名称
          description: 用于识别的配置名称
          maxLength: 100
        description:
          type: string
          title: 配置描述
        provider:
          allOf:
          - $ref: '#/components/schemas/ProviderEnum'
          title: 服务提供商
        api_format:
          allOf:
          - $ref: '#/components/schemas/ApiFormatEnum'
          title: API格式
          description: |-
            API调用格式（Gemini格式或OpenAI格式）

            * `gemini` - Gemini格式
            * `openai` - OpenAI格式
        api_base_url:
          type: string
          format: uri
          minLength: 1
          title: API基础URL
          description: API服务的基础URL
          maxLength: 200
        api_key:
          type: string
          minLength: 1
          title: API密钥
          description: API访问密钥，将被加密存储
          maxLength: 500
        model_name:
          type: string
          minLength: 1
          title: 模型名称
          description: 使用的AI模型名称
          maxLength: 100
        timeout_seconds:
          type: integer
          title: 超时时间（秒）
        max_retries:
          type: integer
          title: 最大重试次数
        extra_config: {}
        is_active:
          type: boolean
          title: 是否启用
        is_default:
          type: boolean
          title: 是否为默认配置
        priority:
          type: integer
          title: 优先级
          description: 数值越小优先级越高，用于故障切换
      required:
      - api_base_url
      - api_format
      - api_key
      - model_name
      - name
      - provider
    AIServiceConfigUpdate:
      type: object
      description: AI服务配置更新序列化器
      properties:
        id:
          type: integer
          readOnly: true
        name:
          type: string
          title: 配置名称
          description: 用于识别的配置名称
          maxLength: 100
        description:
          type: string
          title: 配置描述
        provider:
          allOf:
          - $ref: '#/components/schemas/ProviderEnum'
          title: 服务提供商
        api_format:
          allOf:
          - $ref: '#/components/schemas/ApiFormatEnum'
          title: API格式
          description: |-
            API调用格式（Gemini格式或OpenAI格式）

            * `gemini` - Gemini格式
            * `openai` - OpenAI格式
        api_base_url:
          type: string
          format: uri
          title: API基础URL
          description: API服务的基础URL
          maxLength: 200
        api_key:
          type: string
          title: API密钥
          description: API访问密钥，将被加密存储
          maxLength: 500
        model_name:
          type: string
          title: 模型名称
          description: 使用的AI模型名称
          maxLength: 100
        timeout_seconds:
          type: integer
          title: 超时时间（秒）
        max_retries:
          type: integer
          title: 最大重试次数
        extra_config: {}
        is_active:
          type: boolean
          title: 是否启用
        is_default:
          type: boolean
          title: 是否为默认配置
        priority:
          type: integer
          title: 优先级
          description: 数值越小优先级越高，用于故障切换
        success_count:
          type: integer
          readOnly: true
          title: 成功调用次数
        failure_count:
          type: integer
          readOnly: true
          title: 失败调用次数
        success_rate:
          type: string
          readOnly: true
        last_used_at:
          type: string
          format: date-time
          readOnly: true
          nullable: true
          title: 最后使用时间
        last_test_at:
          type: string
          format: date-time
          readOnly: true
          nullable: true
          title: 最后测试时间
        last_test_result:
          readOnly: true
          title: 最后测试结果
        created_at:
          type: string
          format: date-time
          readOnly: true
          title: 创建时间
        updated_at:
          type: string
          format: date-time
          readOnly: true
          title: 更新时间
      required:
      - api_base_url
      - api_format
      - api_key
      - created_at
      - failure_count
      - id
      - last_test_at
      - last_test_result
      - last_used_at
      - model_name
      - name
      - provider
      - success_count
      - success_rate
      - updated_at
    AIServiceConfigUpdateRequest:
      type: object
      description: AI服务配置更新序列化器
      properties:
        name:
          type: string
          minLength: 1
          title: 配置名称
          description: 用于识别的配置名称
          maxLength: 100
        description:
          type: string
          title: 配置描述
        provider:
          allOf:
          - $ref: '#/components/schemas/ProviderEnum'
          title: 服务提供商
        api_format:
          allOf:
          - $ref: '#/components/schemas/ApiFormatEnum'
          title: API格式
          description: |-
            API调用格式（Gemini格式或OpenAI格式）

            * `gemini` - Gemini格式
            * `openai` - OpenAI格式
        api_base_url:
          type: string
          format: uri
          minLength: 1
          title: API基础URL
          description: API服务的基础URL
          maxLength: 200
        api_key:
          type: string
          minLength: 1
          title: API密钥
          description: API访问密钥，将被加密存储
          maxLength: 500
        model_name:
          type: string
          minLength: 1
          title: 模型名称
          description: 使用的AI模型名称
          maxLength: 100
        timeout_seconds:
          type: integer
          title: 超时时间（秒）
        max_retries:
          type: integer
          title: 最大重试次数
        extra_config: {}
        is_active:
          type: boolean
          title: 是否启用
        is_default:
          type: boolean
          title: 是否为默认配置
        priority:
          type: integer
          title: 优先级
          description: 数值越小优先级越高，用于故障切换
      required:
      - api_base_url
      - api_format
      - api_key
      - model_name
      - name
      - provider
    AIServiceUsageLog:
      type: object
      description: AI服务使用日志序列化器
      properties:
        id:
          type: integer
          readOnly: true
        config:
          type: integer
          title: 使用的配置
        config_name:
          type: string
          readOnly: true
        service_type:
          type: string
          title: 服务类型
          description: OCR、订单处理等
          maxLength: 50
        request_data:
          title: 请求数据
        response_data:
          nullable: true
          title: 响应数据
        is_success:
          type: boolean
          title: 是否成功
        error_message:
          type: string
          title: 错误信息
        response_time_ms:
          type: integer
          nullable: true
          title: 响应时间（毫秒）
        user:
          type: integer
          nullable: true
          title: 用户
        user_name:
          type: string
          readOnly: true
        created_at:
          type: string
          format: date-time
          readOnly: true
          title: 创建时间
      required:
      - config
      - config_name
      - created_at
      - id
      - is_success
      - request_data
      - service_type
      - user_name
    ActionEnum:
      enum:
      - create
      - update
      - delete
      - test
      - activate
      - deactivate
      type: string
      description: |-
        * `create` - 创建
        * `update` - 更新
        * `delete` - 删除
        * `test` - 测试
        * `activate` - 激活
        * `deactivate` - 停用
    AddressMatching:
      type: object
      description: 地址匹配序列化器
      properties:
        csv_address:
          type: string
        log_address:
          type: string
        similarity_score:
          type: number
          format: double
        match_type:
          type: string
        phone_match:
          type: boolean
      required:
      - csv_address
      - log_address
      - match_type
      - phone_match
      - similarity_score
    ApiFormatEnum:
      enum:
      - gemini
      - openai
      type: string
      description: |-
        * `gemini` - Gemini格式
        * `openai` - OpenAI格式
    BatchFileItem:
      type: object
      description: 批量文件项序列化器
      properties:
        id:
          type: integer
          readOnly: true
        file:
          type: integer
          title: 文件
        filename:
          type: string
          readOnly: true
        file_path:
          type: string
          readOnly: true
        file_size:
          type: integer
          readOnly: true
        status:
          allOf:
          - $ref: '#/components/schemas/BatchFileItemStatusEnum'
          readOnly: true
          title: 状态
        processing_order:
          type: integer
          title: 处理顺序
        error_message:
          type: string
          readOnly: true
          title: 错误信息
        processing_time_seconds:
          type: number
          format: double
          readOnly: true
          nullable: true
          title: 处理耗时(秒)
        ocr_result:
          allOf:
          - $ref: '#/components/schemas/OCRResult'
          readOnly: true
        created_at:
          type: string
          format: date-time
          readOnly: true
          title: 创建时间
        updated_at:
          type: string
          format: date-time
          readOnly: true
          title: 更新时间
      required:
      - created_at
      - error_message
      - file
      - file_path
      - file_size
      - filename
      - id
      - ocr_result
      - processing_time_seconds
      - status
      - updated_at
    BatchFileItemRequest:
      type: object
      description: 批量文件项序列化器
      properties:
        file:
          type: integer
          title: 文件
        processing_order:
          type: integer
          title: 处理顺序
      required:
      - file
    BatchFileItemStatusEnum:
      enum:
      - pending
      - processing
      - completed
      - failed
      - skipped
      type: string
      description: |-
        * `pending` - 待处理
        * `processing` - 处理中
        * `completed` - 已完成
        * `failed` - 失败
        * `skipped` - 已跳过
    BatchJob:
      type: object
      description: 批量任务序列化器
      properties:
        id:
          type: integer
          readOnly: true
        name:
          type: string
          title: 任务名称
          maxLength: 200
        status:
          allOf:
          - $ref: '#/components/schemas/BatchJobStatusEnum'
          readOnly: true
          title: 状态
        total_files:
          type: integer
          readOnly: true
          title: 总文件数
        processed_files:
          type: integer
          readOnly: true
          title: 已处理文件数
        failed_files:
          type: integer
          readOnly: true
          title: 失败文件数
        settings:
          title: 处理设置
        progress_percentage:
          type: string
          readOnly: true
        processing_duration:
          type: string
          readOnly: true
        started_at:
          type: string
          format: date-time
          readOnly: true
          nullable: true
          title: 开始时间
        completed_at:
          type: string
          format: date-time
          readOnly: true
          nullable: true
          title: 完成时间
        estimated_completion:
          type: string
          format: date-time
          readOnly: true
          nullable: true
          title: 预计完成时间
        file_items:
          type: array
          items:
            $ref: '#/components/schemas/BatchFileItem'
          readOnly: true
        created_at:
          type: string
          format: date-time
          readOnly: true
          title: 创建时间
        updated_at:
          type: string
          format: date-time
          readOnly: true
          title: 更新时间
      required:
      - completed_at
      - created_at
      - estimated_completion
      - failed_files
      - file_items
      - id
      - name
      - processed_files
      - processing_duration
      - progress_percentage
      - started_at
      - status
      - total_files
      - updated_at
    BatchJobCreateRequest:
      type: object
      description: 批量任务创建序列化器
      properties:
        name:
          type: string
          minLength: 1
          description: 任务名称
          maxLength: 200
        file_ids:
          type: array
          items:
            type: integer
          description: 要处理的文件ID列表
          maxItems: 100
          minItems: 1
        use_multi_ocr:
          type: boolean
          default: false
          description: 是否使用多重OCR验证
        ocr_count:
          type: integer
          maximum: 5
          minimum: 2
          default: 3
          description: 多重OCR次数（2-5次）
        auto_start:
          type: boolean
          default: false
          description: 是否自动开始处理
      required:
      - file_ids
      - name
    BatchJobRequest:
      type: object
      description: 批量任务序列化器
      properties:
        name:
          type: string
          minLength: 1
          title: 任务名称
          maxLength: 200
        settings:
          title: 处理设置
      required:
      - name
    BatchJobStartRequest:
      type: object
      description: 批量任务启动序列化器
      properties:
        force_restart:
          type: boolean
          default: false
          description: 是否强制重新开始（清除之前的进度）
    BatchJobStats:
      type: object
      description: 批量任务统计序列化器
      properties:
        total_jobs:
          type: integer
        running_jobs:
          type: integer
        completed_jobs:
          type: integer
        failed_jobs:
          type: integer
        total_files_processed:
          type: integer
        average_processing_time:
          type: number
          format: double
        recent_jobs:
          type: array
          items:
            $ref: '#/components/schemas/BatchJob'
      required:
      - average_processing_time
      - completed_jobs
      - failed_jobs
      - recent_jobs
      - running_jobs
      - total_files_processed
      - total_jobs
    BatchJobStatusEnum:
      enum:
      - pending
      - running
      - completed
      - failed
      - cancelled
      type: string
      description: |-
        * `pending` - 待处理
        * `running` - 运行中
        * `completed` - 已完成
        * `failed` - 失败
        * `cancelled` - 已取消
    BatchJobUpdate:
      type: object
      description: 批量任务更新序列化器
      properties:
        name:
          type: string
          title: 任务名称
          maxLength: 200
        settings:
          title: 处理设置
      required:
      - name
    BatchJobUpdateRequest:
      type: object
      description: 批量任务更新序列化器
      properties:
        name:
          type: string
          minLength: 1
          title: 任务名称
          maxLength: 200
        settings:
          title: 处理设置
      required:
      - name
    BlankEnum:
      enum:
      - ''
    BulkFileUploadAndBatchRequest:
      type: object
      description: 批量文件上传并创建批量任务序列化器
      properties:
        files:
          type: array
          items:
            type: string
            format: binary
          description: 批量上传的图片文件列表
          maxItems: 50
          minItems: 1
        batch_name:
          type: string
          minLength: 1
          description: 批量任务名称
          maxLength: 200
        use_multi_ocr:
          type: boolean
          default: false
          description: 是否使用多重OCR验证
        ocr_count:
          type: integer
          maximum: 5
          minimum: 2
          default: 3
          description: 多重OCR次数（2-5次）
        auto_start:
          type: boolean
          default: true
          description: 是否自动开始处理
      required:
      - batch_name
      - files
    BulkFileUploadRequest:
      type: object
      description: 批量文件上传序列化器
      properties:
        files:
          type: array
          items:
            type: string
            format: binary
          description: 批量上传的文件列表，最多20个文件
          maxItems: 20
          minItems: 1
        description:
          type: string
          maxLength: 500
      required:
      - files
    CSVRecord:
      type: object
      description: CSV记录序列化器
      properties:
        id:
          type: integer
          readOnly: true
        客户姓名:
          type: string
          maxLength: 100
        客户电话:
          type: string
          maxLength: 20
        客户地址:
          type: string
        商品类型:
          allOf:
          - $ref: '#/components/schemas/商品类型Enum'
          title: 商品类型(国标/母婴)
        成交金额:
          type: string
          format: decimal
          pattern: ^-?\d{0,8}(?:\.\d{0,2})?$
          nullable: true
        面积:
          type: string
          maxLength: 20
        履约时间:
          type: string
          format: date
          nullable: true
        CMA点位数量:
          type: string
          maxLength: 10
        备注赠品:
          description: '赠品信息，格式: {"除醛宝": 15, "炭包": 3}'
        is_active:
          type: boolean
          title: 是否有效
        created_at:
          type: string
          format: date-time
          readOnly: true
          title: 创建时间
        updated_at:
          type: string
          format: date-time
          readOnly: true
          title: 更新时间
      required:
      - created_at
      - id
      - updated_at
      - 商品类型
      - 客户地址
      - 客户姓名
    CSVRecordRequest:
      type: object
      description: CSV记录序列化器
      properties:
        客户姓名:
          type: string
          minLength: 1
          maxLength: 100
        客户电话:
          type: string
          maxLength: 20
        客户地址:
          type: string
          minLength: 1
        商品类型:
          allOf:
          - $ref: '#/components/schemas/商品类型Enum'
          title: 商品类型(国标/母婴)
        成交金额:
          type: string
          format: decimal
          pattern: ^-?\d{0,8}(?:\.\d{0,2})?$
          nullable: true
        面积:
          type: string
          maxLength: 20
        履约时间:
          type: string
          format: date
          nullable: true
        CMA点位数量:
          type: string
          maxLength: 10
        备注赠品:
          description: '赠品信息，格式: {"除醛宝": 15, "炭包": 3}'
        is_active:
          type: boolean
          title: 是否有效
      required:
      - 商品类型
      - 客户地址
      - 客户姓名
    CheckTypeEnum:
      enum:
      - initial
      - recheck
      type: string
      description: |-
        * `initial` - 初检
        * `recheck` - 复检
    CheckTypeInferenceRequest:
      type: object
      description: 检测类型推断序列化器
      properties:
        points_data:
          type: object
          additionalProperties:
            type: number
            format: double
          description: '点位数据字典，格式：{''点位名称'': 检测值}'
        threshold:
          type: number
          format: double
          default: 0.08
          description: 判断阈值，默认0.080
      required:
      - points_data
    ContactInfo:
      type: object
      description: 联系人信息序列化器
      properties:
        id:
          type: integer
          readOnly: true
        contact_name:
          type: string
          title: 联系人姓名
          maxLength: 100
        full_phone:
          type: string
          title: 完整电话
          maxLength: 20
        address:
          type: string
          title: 地址
        match_type:
          title: 匹配类型
          oneOf:
          - $ref: '#/components/schemas/MatchTypeEnum'
          - $ref: '#/components/schemas/BlankEnum'
        similarity_score:
          type: number
          format: double
          nullable: true
          title: 相似度分数
        match_source:
          title: 匹配来源
          oneOf:
          - $ref: '#/components/schemas/MatchSourceEnum'
          - $ref: '#/components/schemas/BlankEnum'
        csv_record:
          allOf:
          - $ref: '#/components/schemas/CSVRecord'
          readOnly: true
        created_at:
          type: string
          format: date-time
          readOnly: true
          title: 创建时间
        updated_at:
          type: string
          format: date-time
          readOnly: true
          title: 更新时间
      required:
      - created_at
      - csv_record
      - id
      - updated_at
    ContactInfoRequest:
      type: object
      description: 联系人信息序列化器
      properties:
        contact_name:
          type: string
          title: 联系人姓名
          maxLength: 100
        full_phone:
          type: string
          title: 完整电话
          maxLength: 20
        address:
          type: string
          title: 地址
        match_type:
          title: 匹配类型
          oneOf:
          - $ref: '#/components/schemas/MatchTypeEnum'
          - $ref: '#/components/schemas/BlankEnum'
        similarity_score:
          type: number
          format: double
          nullable: true
          title: 相似度分数
        match_source:
          title: 匹配来源
          oneOf:
          - $ref: '#/components/schemas/MatchSourceEnum'
          - $ref: '#/components/schemas/BlankEnum'
    ContactInfoUpdateRequest:
      type: object
      description: 联系人信息更新序列化器
      properties:
        contact_name:
          type: string
          title: 联系人姓名
          maxLength: 100
        full_phone:
          type: string
          title: 完整电话
          maxLength: 20
        address:
          type: string
          title: 地址
        match_type:
          title: 匹配类型
          oneOf:
          - $ref: '#/components/schemas/MatchTypeEnum'
          - $ref: '#/components/schemas/BlankEnum'
        match_source:
          title: 匹配来源
          oneOf:
          - $ref: '#/components/schemas/MatchSourceEnum'
          - $ref: '#/components/schemas/BlankEnum'
    CostAnalysis:
      type: object
      description: 成本分析序列化器
      properties:
        total_orders:
          type: integer
        total_revenue:
          type: number
          format: double
        total_medicine_cost:
          type: number
          format: double
        total_cma_cost:
          type: number
          format: double
        total_labor_cost:
          type: number
          format: double
        total_profit:
          type: number
          format: double
        profit_margin:
          type: number
          format: double
        average_order_value:
          type: number
          format: double
        cost_breakdown:
          type: object
          additionalProperties: {}
      required:
      - average_order_value
      - cost_breakdown
      - profit_margin
      - total_cma_cost
      - total_labor_cost
      - total_medicine_cost
      - total_orders
      - total_profit
      - total_revenue
    FileUploadRequest:
      type: object
      description: 文件上传序列化器
      properties:
        file:
          type: string
          format: binary
        description:
          type: string
          maxLength: 500
      required:
      - file
    GenerateFromDBRequestRequest:
      type: object
      properties:
        year:
          type: integer
          description: 年份
        month:
          type: integer
          description: 月份
        title:
          type: string
          minLength: 1
          description: 报表标题
        config_data:
          description: 配置数据
        labor_cost_file:
          type: string
          format: binary
          description: 人工成本文件(txt格式)
      required:
      - month
      - year
    ImageUploadAndProcessRequest:
      type: object
      description: 图片上传并处理序列化器
      properties:
        image:
          type: string
          format: binary
          description: 要处理的图片文件
        use_multi_ocr:
          type: boolean
          default: false
          description: 是否使用多重OCR验证
        ocr_count:
          type: integer
          maximum: 5
          minimum: 2
          default: 3
          description: 多重OCR次数（2-5次）
      required:
      - image
    LaborCostFileUploadRequestRequest:
      type: object
      properties:
        file:
          type: string
          format: binary
          description: 人工成本文件(txt格式)
        month:
          type: integer
          description: 月份
      required:
      - file
      - month
    MatchSourceEnum:
      enum:
      - csv
      - manual
      type: string
      description: |-
        * `csv` - CSV记录
        * `manual` - 手动输入
    MatchTypeEnum:
      enum:
      - exact
      - partial
      - similarity
      - manual
      type: string
      description: |-
        * `exact` - 完全匹配
        * `partial` - 部分匹配
        * `similarity` - 相似度匹配
        * `manual` - 手动输入
    MonthlyReport:
      type: object
      description: 月度报表序列化器
      properties:
        id:
          type: integer
          readOnly: true
        title:
          type: string
          title: 报表标题
          maxLength: 200
        report_month:
          type: string
          format: date
          title: 报表月份
        report_month_display:
          type: string
          readOnly: true
        csv_file:
          type: integer
          nullable: true
          title: CSV文件
        csv_file_name:
          type: string
          readOnly: true
        log_file:
          type: integer
          nullable: true
          title: 日志文件
        log_file_name:
          type: string
          readOnly: true
        config_data:
          title: 配置数据
        summary_data:
          readOnly: true
          title: 汇总统计
        address_matches:
          readOnly: true
          title: 地址匹配结果
        cost_analysis:
          readOnly: true
          title: 成本分析
        excel_file:
          type: string
          format: uri
          readOnly: true
          nullable: true
          title: Excel文件
        pdf_file:
          type: string
          format: uri
          readOnly: true
          nullable: true
          title: PDF文件
        is_generated:
          type: boolean
          readOnly: true
          title: 是否已生成
        generation_completed_at:
          type: string
          format: date-time
          readOnly: true
          nullable: true
          title: 生成完成时间
        created_at:
          type: string
          format: date-time
          readOnly: true
          title: 创建时间
        updated_at:
          type: string
          format: date-time
          readOnly: true
          title: 更新时间
      required:
      - address_matches
      - cost_analysis
      - created_at
      - csv_file_name
      - excel_file
      - generation_completed_at
      - id
      - is_generated
      - log_file_name
      - pdf_file
      - report_month
      - report_month_display
      - summary_data
      - title
      - updated_at
    MonthlyReportConfig:
      type: object
      description: 月度报表配置序列化器
      properties:
        id:
          type: integer
          readOnly: true
        name:
          type: string
          title: 配置名称
          maxLength: 100
        description:
          type: string
          title: 配置描述
        uniform_profit_rate:
          type: boolean
          title: 统一分润比
        profit_rate_value:
          type: number
          format: double
          title: 分润比值
        medicine_cost_per_order:
          type: number
          format: double
          title: 每单药水成本
        cma_cost_per_point:
          type: number
          format: double
          title: 每个CMA点位成本
        config_options:
          title: 其他配置选项
        is_default:
          type: boolean
          title: 是否为默认配置
        created_at:
          type: string
          format: date-time
          readOnly: true
          title: 创建时间
        updated_at:
          type: string
          format: date-time
          readOnly: true
          title: 更新时间
      required:
      - created_at
      - id
      - name
      - updated_at
    MonthlyReportConfigRequest:
      type: object
      description: 月度报表配置序列化器
      properties:
        name:
          type: string
          minLength: 1
          title: 配置名称
          maxLength: 100
        description:
          type: string
          title: 配置描述
        uniform_profit_rate:
          type: boolean
          title: 统一分润比
        profit_rate_value:
          type: number
          format: double
          title: 分润比值
        medicine_cost_per_order:
          type: number
          format: double
          title: 每单药水成本
        cma_cost_per_point:
          type: number
          format: double
          title: 每个CMA点位成本
        config_options:
          title: 其他配置选项
        is_default:
          type: boolean
          title: 是否为默认配置
      required:
      - name
    MonthlyReportCreateRequest:
      type: object
      description: 月度报表创建序列化器
      properties:
        title:
          type: string
          minLength: 1
          description: 报表标题
          maxLength: 200
        report_month:
          type: string
          format: date
          description: 报表月份
        csv_file_id:
          type: integer
          description: CSV文件ID
        log_file_id:
          type: integer
          description: 日志文件ID（可选）
        config_id:
          type: integer
          description: 配置ID（可选）
        uniform_profit_rate:
          type: boolean
          default: false
          description: 是否统一分润比
        profit_rate_value:
          type: number
          format: double
          maximum: 1.0
          minimum: 0.0
          default: 0.05
          description: 分润比值（0-1之间）
        medicine_cost_per_order:
          type: number
          format: double
          minimum: 0.0
          default: 120.1
          description: 每单药水成本
        cma_cost_per_point:
          type: number
          format: double
          minimum: 0.0
          default: 60.0
          description: 每个CMA点位成本
        include_address_matching:
          type: boolean
          default: true
          description: 是否包含地址匹配
        exclude_recheck_records:
          type: boolean
          default: true
          description: 是否排除复检记录
        date_range_days:
          type: integer
          maximum: 365
          minimum: 1
          default: 30
          description: 日期范围限制（天）
      required:
      - csv_file_id
      - report_month
      - title
    MonthlyReportDetail:
      type: object
      description: 月度报表详情序列化器
      properties:
        id:
          type: integer
          readOnly: true
        title:
          type: string
          title: 报表标题
          maxLength: 200
        report_month:
          type: string
          format: date
          title: 报表月份
        report_month_display:
          type: string
          readOnly: true
        csv_file:
          type: integer
          nullable: true
          title: CSV文件
        csv_file_name:
          type: string
          readOnly: true
        log_file:
          type: integer
          nullable: true
          title: 日志文件
        log_file_name:
          type: string
          readOnly: true
        config_data:
          title: 配置数据
        summary_data:
          title: 汇总统计
        address_matches:
          title: 地址匹配结果
        address_matches_detail:
          type: array
          items:
            $ref: '#/components/schemas/AddressMatching'
          readOnly: true
        cost_analysis:
          title: 成本分析
        cost_analysis_detail:
          allOf:
          - $ref: '#/components/schemas/CostAnalysis'
          readOnly: true
        excel_file:
          type: string
          format: uri
          nullable: true
          title: Excel文件
        pdf_file:
          type: string
          format: uri
          nullable: true
          title: PDF文件
        is_generated:
          type: boolean
          title: 是否已生成
        generation_completed_at:
          type: string
          format: date-time
          nullable: true
          title: 生成完成时间
        created_at:
          type: string
          format: date-time
          readOnly: true
          title: 创建时间
        updated_at:
          type: string
          format: date-time
          readOnly: true
          title: 更新时间
      required:
      - address_matches_detail
      - cost_analysis_detail
      - created_at
      - csv_file_name
      - id
      - log_file_name
      - report_month
      - report_month_display
      - title
      - updated_at
    MonthlyReportGenerateRequest:
      type: object
      description: 月度报表生成序列化器
      properties:
        force_regenerate:
          type: boolean
          default: false
          description: 是否强制重新生成
        generate_pdf:
          type: boolean
          default: true
          description: 是否生成PDF文件
        config_id:
          type: integer
          description: 使用的配置ID（可选）
    MonthlyReportRequest:
      type: object
      description: 月度报表序列化器
      properties:
        title:
          type: string
          minLength: 1
          title: 报表标题
          maxLength: 200
        report_month:
          type: string
          format: date
          title: 报表月份
        csv_file:
          type: integer
          nullable: true
          title: CSV文件
        log_file:
          type: integer
          nullable: true
          title: 日志文件
        config_data:
          title: 配置数据
      required:
      - report_month
      - title
    MonthlyReportStats:
      type: object
      description: 月度报表统计序列化器
      properties:
        total_reports:
          type: integer
        generated_reports:
          type: integer
        pending_reports:
          type: integer
        reports_by_month:
          type: object
          additionalProperties: {}
        total_orders_processed:
          type: integer
        total_revenue:
          type: number
          format: double
        average_generation_time:
          type: number
          format: double
        recent_reports:
          type: array
          items:
            $ref: '#/components/schemas/MonthlyReport'
      required:
      - average_generation_time
      - generated_reports
      - pending_reports
      - recent_reports
      - reports_by_month
      - total_orders_processed
      - total_reports
      - total_revenue
    OCRProcessRequest:
      type: object
      description: OCR处理请求序列化器
      properties:
        file_id:
          type: integer
          description: 要处理的文件ID
        use_multi_ocr:
          type: boolean
          default: false
          description: 是否使用多重OCR验证
        ocr_count:
          type: integer
          maximum: 5
          minimum: 2
          default: 3
          description: 多重OCR次数（2-5次）
      required:
      - file_id
    OCRResult:
      type: object
      description: OCR结果序列化器
      properties:
        id:
          type: integer
          readOnly: true
        file:
          type: integer
          title: 文件
        file_name:
          type: string
          readOnly: true
        file_url:
          type: string
          readOnly: true
        status:
          allOf:
          - $ref: '#/components/schemas/OCRResultStatusEnum'
          readOnly: true
          title: 状态
        phone:
          type: string
          title: 联系电话
          maxLength: 20
        date:
          type: string
          title: 采样日期
          maxLength: 10
        temperature:
          type: string
          title: 现场温度
          maxLength: 10
        humidity:
          type: string
          title: 现场湿度
          maxLength: 10
        check_type:
          title: 检测类型
          oneOf:
          - $ref: '#/components/schemas/CheckTypeEnum'
          - $ref: '#/components/schemas/BlankEnum'
        points_data:
          title: 点位数据
        raw_response:
          type: string
          readOnly: true
          title: 原始API响应
        confidence_score:
          type: number
          format: double
          readOnly: true
          nullable: true
          title: 置信度分数
        ocr_attempts:
          type: integer
          readOnly: true
          title: OCR尝试次数
        has_conflicts:
          type: boolean
          readOnly: true
          title: 是否有冲突
        conflict_details:
          readOnly: true
          title: 冲突详情
        processing_duration:
          type: string
          readOnly: true
        processing_started_at:
          type: string
          format: date-time
          readOnly: true
          nullable: true
          title: 处理开始时间
        processing_completed_at:
          type: string
          format: date-time
          readOnly: true
          nullable: true
          title: 处理完成时间
        error_message:
          type: string
          readOnly: true
          title: 错误信息
        contact_info:
          allOf:
          - $ref: '#/components/schemas/ContactInfo'
          readOnly: true
        created_at:
          type: string
          format: date-time
          readOnly: true
          title: 创建时间
        updated_at:
          type: string
          format: date-time
          readOnly: true
          title: 更新时间
      required:
      - confidence_score
      - conflict_details
      - contact_info
      - created_at
      - error_message
      - file
      - file_name
      - file_url
      - has_conflicts
      - id
      - ocr_attempts
      - processing_completed_at
      - processing_duration
      - processing_started_at
      - raw_response
      - status
      - updated_at
    OCRResultRequest:
      type: object
      description: OCR结果序列化器
      properties:
        file:
          type: integer
          title: 文件
        phone:
          type: string
          title: 联系电话
          maxLength: 20
        date:
          type: string
          title: 采样日期
          maxLength: 10
        temperature:
          type: string
          title: 现场温度
          maxLength: 10
        humidity:
          type: string
          title: 现场湿度
          maxLength: 10
        check_type:
          title: 检测类型
          oneOf:
          - $ref: '#/components/schemas/CheckTypeEnum'
          - $ref: '#/components/schemas/BlankEnum'
        points_data:
          title: 点位数据
      required:
      - file
    OCRResultStatusEnum:
      enum:
      - pending
      - processing
      - completed
      - failed
      type: string
      description: |-
        * `pending` - 待处理
        * `processing` - 处理中
        * `completed` - 已完成
        * `failed` - 失败
    OCRResultUpdate:
      type: object
      description: OCR结果更新序列化器
      properties:
        phone:
          type: string
          title: 联系电话
          maxLength: 20
        date:
          type: string
          title: 采样日期
          maxLength: 10
        temperature:
          type: string
          title: 现场温度
          maxLength: 10
        humidity:
          type: string
          title: 现场湿度
          maxLength: 10
        check_type:
          title: 检测类型
          oneOf:
          - $ref: '#/components/schemas/CheckTypeEnum'
          - $ref: '#/components/schemas/BlankEnum'
        points_data:
          title: 点位数据
    OCRResultUpdateRequest:
      type: object
      description: OCR结果更新序列化器
      properties:
        phone:
          type: string
          title: 联系电话
          maxLength: 20
        date:
          type: string
          title: 采样日期
          maxLength: 10
        temperature:
          type: string
          title: 现场温度
          maxLength: 10
        humidity:
          type: string
          title: 现场湿度
          maxLength: 10
        check_type:
          title: 检测类型
          oneOf:
          - $ref: '#/components/schemas/CheckTypeEnum'
          - $ref: '#/components/schemas/BlankEnum'
        points_data:
          title: 点位数据
    OrderRecord:
      type: object
      description: 订单记录序列化器 - 使用JSON格式
      properties:
        id:
          type: integer
          readOnly: true
        客户姓名:
          type: string
          maxLength: 100
        客户电话:
          type: string
          maxLength: 20
        客户地址:
          type: string
        商品类型:
          allOf:
          - $ref: '#/components/schemas/商品类型Enum'
          title: 商品类型(国标/母婴)
        成交金额:
          type: string
          format: decimal
          pattern: ^-?\d{0,8}(?:\.\d{0,2})?$
          nullable: true
        面积:
          type: string
          maxLength: 20
        履约时间:
          type: string
          format: date
          nullable: true
        CMA点位数量:
          type: string
          maxLength: 10
        备注赠品:
          nullable: true
          description: '赠品信息，JSON格式: {"除醛宝": 15, "炭包": 3}'
        is_active:
          type: boolean
          title: 是否有效
        created_at:
          type: string
          format: date-time
          readOnly: true
          title: 创建时间
        updated_at:
          type: string
          format: date-time
          readOnly: true
          title: 更新时间
      required:
      - created_at
      - id
      - updated_at
      - 商品类型
      - 客户地址
      - 客户姓名
    OrderRecordRequest:
      type: object
      description: 订单记录序列化器 - 使用JSON格式
      properties:
        客户姓名:
          type: string
          minLength: 1
          maxLength: 100
        客户电话:
          type: string
          maxLength: 20
        客户地址:
          type: string
          minLength: 1
        商品类型:
          allOf:
          - $ref: '#/components/schemas/商品类型Enum'
          title: 商品类型(国标/母婴)
        成交金额:
          type: string
          format: decimal
          pattern: ^-?\d{0,8}(?:\.\d{0,2})?$
          nullable: true
        面积:
          type: string
          maxLength: 20
        履约时间:
          type: string
          format: date
          nullable: true
        CMA点位数量:
          type: string
          maxLength: 10
        备注赠品:
          nullable: true
          description: '赠品信息，JSON格式: {"除醛宝": 15, "炭包": 3}'
        is_active:
          type: boolean
          title: 是否有效
      required:
      - 商品类型
      - 客户地址
      - 客户姓名
    PaginatedAIConfigHistoryList:
      type: object
      required:
      - count
      - results
      properties:
        count:
          type: integer
          example: 123
        next:
          type: string
          nullable: true
          format: uri
          example: http://api.example.org/accounts/?page=4
        previous:
          type: string
          nullable: true
          format: uri
          example: http://api.example.org/accounts/?page=2
        results:
          type: array
          items:
            $ref: '#/components/schemas/AIConfigHistory'
    PaginatedAIServiceConfigList:
      type: object
      required:
      - count
      - results
      properties:
        count:
          type: integer
          example: 123
        next:
          type: string
          nullable: true
          format: uri
          example: http://api.example.org/accounts/?page=4
        previous:
          type: string
          nullable: true
          format: uri
          example: http://api.example.org/accounts/?page=2
        results:
          type: array
          items:
            $ref: '#/components/schemas/AIServiceConfig'
    PaginatedAIServiceUsageLogList:
      type: object
      required:
      - count
      - results
      properties:
        count:
          type: integer
          example: 123
        next:
          type: string
          nullable: true
          format: uri
          example: http://api.example.org/accounts/?page=4
        previous:
          type: string
          nullable: true
          format: uri
          example: http://api.example.org/accounts/?page=2
        results:
          type: array
          items:
            $ref: '#/components/schemas/AIServiceUsageLog'
    PaginatedBatchJobList:
      type: object
      required:
      - count
      - results
      properties:
        count:
          type: integer
          example: 123
        next:
          type: string
          nullable: true
          format: uri
          example: http://api.example.org/accounts/?page=4
        previous:
          type: string
          nullable: true
          format: uri
          example: http://api.example.org/accounts/?page=2
        results:
          type: array
          items:
            $ref: '#/components/schemas/BatchJob'
    PaginatedMonthlyReportConfigList:
      type: object
      required:
      - count
      - results
      properties:
        count:
          type: integer
          example: 123
        next:
          type: string
          nullable: true
          format: uri
          example: http://api.example.org/accounts/?page=4
        previous:
          type: string
          nullable: true
          format: uri
          example: http://api.example.org/accounts/?page=2
        results:
          type: array
          items:
            $ref: '#/components/schemas/MonthlyReportConfig'
    PaginatedMonthlyReportList:
      type: object
      required:
      - count
      - results
      properties:
        count:
          type: integer
          example: 123
        next:
          type: string
          nullable: true
          format: uri
          example: http://api.example.org/accounts/?page=4
        previous:
          type: string
          nullable: true
          format: uri
          example: http://api.example.org/accounts/?page=2
        results:
          type: array
          items:
            $ref: '#/components/schemas/MonthlyReport'
    PaginatedOCRResultList:
      type: object
      required:
      - count
      - results
      properties:
        count:
          type: integer
          example: 123
        next:
          type: string
          nullable: true
          format: uri
          example: http://api.example.org/accounts/?page=4
        previous:
          type: string
          nullable: true
          format: uri
          example: http://api.example.org/accounts/?page=2
        results:
          type: array
          items:
            $ref: '#/components/schemas/OCRResult'
    PaginatedOrderRecordList:
      type: object
      required:
      - count
      - results
      properties:
        count:
          type: integer
          example: 123
        next:
          type: string
          nullable: true
          format: uri
          example: http://api.example.org/accounts/?page=4
        previous:
          type: string
          nullable: true
          format: uri
          example: http://api.example.org/accounts/?page=2
        results:
          type: array
          items:
            $ref: '#/components/schemas/OrderRecord'
    PaginatedPointLearningList:
      type: object
      required:
      - count
      - results
      properties:
        count:
          type: integer
          example: 123
        next:
          type: string
          nullable: true
          format: uri
          example: http://api.example.org/accounts/?page=4
        previous:
          type: string
          nullable: true
          format: uri
          example: http://api.example.org/accounts/?page=2
        results:
          type: array
          items:
            $ref: '#/components/schemas/PointLearning'
    PaginatedPointValueList:
      type: object
      required:
      - count
      - results
      properties:
        count:
          type: integer
          example: 123
        next:
          type: string
          nullable: true
          format: uri
          example: http://api.example.org/accounts/?page=4
        previous:
          type: string
          nullable: true
          format: uri
          example: http://api.example.org/accounts/?page=2
        results:
          type: array
          items:
            $ref: '#/components/schemas/PointValue'
    PaginatedReportList:
      type: object
      required:
      - count
      - results
      properties:
        count:
          type: integer
          example: 123
        next:
          type: string
          nullable: true
          format: uri
          example: http://api.example.org/accounts/?page=4
        previous:
          type: string
          nullable: true
          format: uri
          example: http://api.example.org/accounts/?page=2
        results:
          type: array
          items:
            $ref: '#/components/schemas/Report'
    PaginatedReportTemplateList:
      type: object
      required:
      - count
      - results
      properties:
        count:
          type: integer
          example: 123
        next:
          type: string
          nullable: true
          format: uri
          example: http://api.example.org/accounts/?page=4
        previous:
          type: string
          nullable: true
          format: uri
          example: http://api.example.org/accounts/?page=2
        results:
          type: array
          items:
            $ref: '#/components/schemas/ReportTemplate'
    PaginatedUploadedFileList:
      type: object
      required:
      - count
      - results
      properties:
        count:
          type: integer
          example: 123
        next:
          type: string
          nullable: true
          format: uri
          example: http://api.example.org/accounts/?page=4
        previous:
          type: string
          nullable: true
          format: uri
          example: http://api.example.org/accounts/?page=2
        results:
          type: array
          items:
            $ref: '#/components/schemas/UploadedFile'
    PaginatedUserList:
      type: object
      required:
      - count
      - results
      properties:
        count:
          type: integer
          example: 123
        next:
          type: string
          nullable: true
          format: uri
          example: http://api.example.org/accounts/?page=4
        previous:
          type: string
          nullable: true
          format: uri
          example: http://api.example.org/accounts/?page=2
        results:
          type: array
          items:
            $ref: '#/components/schemas/User'
    PatchedAIServiceConfigUpdateRequest:
      type: object
      description: AI服务配置更新序列化器
      properties:
        name:
          type: string
          minLength: 1
          title: 配置名称
          description: 用于识别的配置名称
          maxLength: 100
        description:
          type: string
          title: 配置描述
        provider:
          allOf:
          - $ref: '#/components/schemas/ProviderEnum'
          title: 服务提供商
        api_format:
          allOf:
          - $ref: '#/components/schemas/ApiFormatEnum'
          title: API格式
          description: |-
            API调用格式（Gemini格式或OpenAI格式）

            * `gemini` - Gemini格式
            * `openai` - OpenAI格式
        api_base_url:
          type: string
          format: uri
          minLength: 1
          title: API基础URL
          description: API服务的基础URL
          maxLength: 200
        api_key:
          type: string
          minLength: 1
          title: API密钥
          description: API访问密钥，将被加密存储
          maxLength: 500
        model_name:
          type: string
          minLength: 1
          title: 模型名称
          description: 使用的AI模型名称
          maxLength: 100
        timeout_seconds:
          type: integer
          title: 超时时间（秒）
        max_retries:
          type: integer
          title: 最大重试次数
        extra_config: {}
        is_active:
          type: boolean
          title: 是否启用
        is_default:
          type: boolean
          title: 是否为默认配置
        priority:
          type: integer
          title: 优先级
          description: 数值越小优先级越高，用于故障切换
    PatchedBatchJobUpdateRequest:
      type: object
      description: 批量任务更新序列化器
      properties:
        name:
          type: string
          minLength: 1
          title: 任务名称
          maxLength: 200
        settings:
          title: 处理设置
    PatchedMonthlyReportConfigRequest:
      type: object
      description: 月度报表配置序列化器
      properties:
        name:
          type: string
          minLength: 1
          title: 配置名称
          maxLength: 100
        description:
          type: string
          title: 配置描述
        uniform_profit_rate:
          type: boolean
          title: 统一分润比
        profit_rate_value:
          type: number
          format: double
          title: 分润比值
        medicine_cost_per_order:
          type: number
          format: double
          title: 每单药水成本
        cma_cost_per_point:
          type: number
          format: double
          title: 每个CMA点位成本
        config_options:
          title: 其他配置选项
        is_default:
          type: boolean
          title: 是否为默认配置
    PatchedMonthlyReportRequest:
      type: object
      description: 月度报表序列化器
      properties:
        title:
          type: string
          minLength: 1
          title: 报表标题
          maxLength: 200
        report_month:
          type: string
          format: date
          title: 报表月份
        csv_file:
          type: integer
          nullable: true
          title: CSV文件
        log_file:
          type: integer
          nullable: true
          title: 日志文件
        config_data:
          title: 配置数据
    PatchedOCRResultUpdateRequest:
      type: object
      description: OCR结果更新序列化器
      properties:
        phone:
          type: string
          title: 联系电话
          maxLength: 20
        date:
          type: string
          title: 采样日期
          maxLength: 10
        temperature:
          type: string
          title: 现场温度
          maxLength: 10
        humidity:
          type: string
          title: 现场湿度
          maxLength: 10
        check_type:
          title: 检测类型
          oneOf:
          - $ref: '#/components/schemas/CheckTypeEnum'
          - $ref: '#/components/schemas/BlankEnum'
        points_data:
          title: 点位数据
    PatchedOrderRecordRequest:
      type: object
      description: 订单记录序列化器 - 使用JSON格式
      properties:
        客户姓名:
          type: string
          minLength: 1
          maxLength: 100
        客户电话:
          type: string
          maxLength: 20
        客户地址:
          type: string
          minLength: 1
        商品类型:
          allOf:
          - $ref: '#/components/schemas/商品类型Enum'
          title: 商品类型(国标/母婴)
        成交金额:
          type: string
          format: decimal
          pattern: ^-?\d{0,8}(?:\.\d{0,2})?$
          nullable: true
        面积:
          type: string
          maxLength: 20
        履约时间:
          type: string
          format: date
          nullable: true
        CMA点位数量:
          type: string
          maxLength: 10
        备注赠品:
          nullable: true
          description: '赠品信息，JSON格式: {"除醛宝": 15, "炭包": 3}'
        is_active:
          type: boolean
          title: 是否有效
    PatchedPointLearningRequest:
      type: object
      description: 点位学习序列化器
      properties:
        point_name:
          type: string
          minLength: 1
          title: 点位名称
          maxLength: 100
    PatchedPointValueRequest:
      type: object
      description: 点位值序列化器
      properties:
        ocr_result:
          type: integer
          title: OCR结果
        point_name:
          type: string
          minLength: 1
          title: 点位名称
          maxLength: 100
        value:
          type: number
          format: double
          title: 检测值
        check_type:
          allOf:
          - $ref: '#/components/schemas/CheckTypeEnum'
          title: 检测类型
    PatchedReportTemplateRequest:
      type: object
      description: 报告模板序列化器
      properties:
        name:
          type: string
          minLength: 1
          title: 模板名称
          maxLength: 100
        description:
          type: string
          title: 模板描述
        template_file:
          type: string
          format: binary
          title: 模板文件
        is_active:
          type: boolean
          title: 是否激活
        template_config:
          title: 模板配置
    PatchedReportUpdateRequest:
      type: object
      description: 报告更新序列化器
      properties:
        title:
          type: string
          minLength: 1
          title: 报告标题
          maxLength: 200
        form_data:
          title: 表单填写数据
        template_data:
          title: 模板渲染数据
        delete_original_docx:
          type: boolean
          title: 删除原始Word文件
        generation_settings:
          title: 生成设置
    PatchedUploadedFileRequest:
      type: object
      description: 上传文件序列化器
      properties:
        file:
          type: string
          format: binary
          title: 文件
        original_name:
          type: string
          minLength: 1
          title: 原始文件名
          maxLength: 255
    PatchedUserRequest:
      type: object
      description: 用户序列化器
      properties:
        username:
          type: string
          minLength: 1
          title: 用户名
          description: 必填；长度为150个字符或以下；只能包含字母、数字、特殊字符“@”、“.”、“-”和“_”。
          pattern: ^[\w.@+-]+$
          maxLength: 150
        email:
          type: string
          format: email
          title: 电子邮件地址
          maxLength: 254
        first_name:
          type: string
          title: 名字
          maxLength: 150
        last_name:
          type: string
          title: 姓氏
          maxLength: 150
        phone:
          type: string
          title: 电话号码
          maxLength: 20
        company:
          type: string
          title: 公司
          maxLength: 100
        role:
          allOf:
          - $ref: '#/components/schemas/RoleEnum'
          title: 角色
        is_active:
          type: boolean
          title: 是否激活
    PointLearning:
      type: object
      description: 点位学习序列化器
      properties:
        id:
          type: integer
          readOnly: true
        point_name:
          type: string
          title: 点位名称
          maxLength: 100
        usage_count:
          type: integer
          readOnly: true
          title: 使用次数
        avg_value:
          type: number
          format: double
          readOnly: true
          title: 平均值
        initial_count:
          type: integer
          readOnly: true
          title: 初检次数
        recheck_count:
          type: integer
          readOnly: true
          title: 复检次数
        last_used_at:
          type: string
          format: date-time
          readOnly: true
          title: 最后使用时间
        created_at:
          type: string
          format: date-time
          readOnly: true
          title: 创建时间
        updated_at:
          type: string
          format: date-time
          readOnly: true
          title: 更新时间
      required:
      - avg_value
      - created_at
      - id
      - initial_count
      - last_used_at
      - point_name
      - recheck_count
      - updated_at
      - usage_count
    PointLearningRequest:
      type: object
      description: 点位学习序列化器
      properties:
        point_name:
          type: string
          minLength: 1
          title: 点位名称
          maxLength: 100
      required:
      - point_name
    PointLearningUpdateRequest:
      type: object
      description: 点位学习更新序列化器
      properties:
        points_data:
          type: object
          additionalProperties:
            type: number
            format: double
          description: '点位数据字典，格式：{''点位名称'': 检测值}'
        check_type:
          allOf:
          - $ref: '#/components/schemas/CheckTypeEnum'
          default: initial
          description: |-
            检测类型

            * `initial` - 初检
            * `recheck` - 复检
      required:
      - points_data
    PointSuggestionRequest:
      type: object
      description: 点位建议序列化器
      properties:
        existing_points:
          type: array
          items:
            type: string
            minLength: 1
          description: 已存在的点位名称列表
        limit:
          type: integer
          maximum: 50
          minimum: 1
          default: 10
          description: 返回建议数量
    PointValue:
      type: object
      description: 点位值序列化器
      properties:
        id:
          type: integer
          readOnly: true
        ocr_result:
          type: integer
          title: OCR结果
        point_name:
          type: string
          title: 点位名称
          maxLength: 100
        value:
          type: number
          format: double
          title: 检测值
        check_type:
          allOf:
          - $ref: '#/components/schemas/CheckTypeEnum'
          title: 检测类型
        created_at:
          type: string
          format: date-time
          readOnly: true
          title: 创建时间
        updated_at:
          type: string
          format: date-time
          readOnly: true
          title: 更新时间
      required:
      - check_type
      - created_at
      - id
      - ocr_result
      - point_name
      - updated_at
      - value
    PointValueRequest:
      type: object
      description: 点位值序列化器
      properties:
        ocr_result:
          type: integer
          title: OCR结果
        point_name:
          type: string
          minLength: 1
          title: 点位名称
          maxLength: 100
        value:
          type: number
          format: double
          title: 检测值
        check_type:
          allOf:
          - $ref: '#/components/schemas/CheckTypeEnum'
          title: 检测类型
      required:
      - check_type
      - ocr_result
      - point_name
      - value
    ProviderEnum:
      enum:
      - gemini
      - openai
      - anthropic
      - custom
      type: string
      description: |-
        * `gemini` - Google Gemini
        * `openai` - OpenAI
        * `anthropic` - Anthropic Claude
        * `custom` - 自定义服务
    Report:
      type: object
      description: 报告序列化器
      properties:
        id:
          type: integer
          readOnly: true
        ocr_result:
          type: integer
          nullable: true
          title: OCR结果
        ocr_result_info:
          type: string
          readOnly: true
        report_type:
          allOf:
          - $ref: '#/components/schemas/ReportTypeEnum'
          title: 报告类型
        title:
          type: string
          title: 报告标题
          maxLength: 200
        form_data:
          title: 表单填写数据
        template_data:
          title: 模板渲染数据
        docx_file:
          type: string
          format: uri
          readOnly: true
          nullable: true
          title: Word文件
        pdf_file:
          type: string
          format: uri
          readOnly: true
          nullable: true
          title: PDF文件
        delete_original_docx:
          type: boolean
          title: 删除原始Word文件
        generation_settings:
          title: 生成设置
        is_generated:
          type: boolean
          readOnly: true
          title: 是否已生成
        generation_started_at:
          type: string
          format: date-time
          readOnly: true
          nullable: true
          title: 生成开始时间
        generation_completed_at:
          type: string
          format: date-time
          readOnly: true
          nullable: true
          title: 生成完成时间
        generation_duration:
          type: string
          readOnly: true
        error_message:
          type: string
          readOnly: true
          title: 错误信息
        created_at:
          type: string
          format: date-time
          readOnly: true
          title: 创建时间
        updated_at:
          type: string
          format: date-time
          readOnly: true
          title: 更新时间
      required:
      - created_at
      - docx_file
      - error_message
      - generation_completed_at
      - generation_duration
      - generation_started_at
      - id
      - is_generated
      - ocr_result_info
      - pdf_file
      - report_type
      - title
      - updated_at
    ReportCreateRequest:
      type: object
      description: 报告创建序列化器
      properties:
        ocr_result_id:
          type: integer
          description: OCR结果ID
        report_type:
          allOf:
          - $ref: '#/components/schemas/ReportTypeEnum'
          default: detection
          description: |-
            报告类型

            * `detection` - 检测报告
            * `monthly` - 月度报表
        title:
          type: string
          minLength: 1
          description: 报告标题
          maxLength: 200
        project_address:
          type: string
          minLength: 1
          description: 项目地址
          maxLength: 500
        contact_person:
          type: string
          minLength: 1
          description: 联系人
          maxLength: 100
        sampling_date:
          type: string
          minLength: 1
          description: 采样日期
          maxLength: 20
        temperature:
          type: string
          minLength: 1
          description: 现场温度
          maxLength: 10
        humidity:
          type: string
          minLength: 1
          description: 现场湿度
          maxLength: 10
        check_type:
          allOf:
          - $ref: '#/components/schemas/CheckTypeEnum'
          description: |-
            检测类型

            * `initial` - 初检
            * `recheck` - 复检
        points_data:
          description: 点位数据
        delete_original_docx:
          type: boolean
          default: true
          description: 是否删除原始Word文件
        template_id:
          type: integer
          description: 使用的模板ID（可选）
      required:
      - check_type
      - contact_person
      - ocr_result_id
      - points_data
      - project_address
      - sampling_date
      - title
    ReportGenerateRequest:
      type: object
      description: 报告生成序列化器
      properties:
        force_regenerate:
          type: boolean
          default: false
          description: 是否强制重新生成（即使已生成）
        template_id:
          type: integer
          description: 使用的模板ID（可选）
    ReportRequest:
      type: object
      description: 报告序列化器
      properties:
        ocr_result:
          type: integer
          nullable: true
          title: OCR结果
        report_type:
          allOf:
          - $ref: '#/components/schemas/ReportTypeEnum'
          title: 报告类型
        title:
          type: string
          minLength: 1
          title: 报告标题
          maxLength: 200
        form_data:
          title: 表单填写数据
        template_data:
          title: 模板渲染数据
        delete_original_docx:
          type: boolean
          title: 删除原始Word文件
        generation_settings:
          title: 生成设置
      required:
      - report_type
      - title
    ReportStats:
      type: object
      description: 报告统计序列化器
      properties:
        total_reports:
          type: integer
        generated_reports:
          type: integer
        pending_reports:
          type: integer
        failed_reports:
          type: integer
        report_types:
          type: object
          additionalProperties: {}
        recent_reports:
          type: array
          items:
            $ref: '#/components/schemas/Report'
      required:
      - failed_reports
      - generated_reports
      - pending_reports
      - recent_reports
      - report_types
      - total_reports
    ReportTemplate:
      type: object
      description: 报告模板序列化器
      properties:
        id:
          type: integer
          readOnly: true
        name:
          type: string
          title: 模板名称
          maxLength: 100
        description:
          type: string
          title: 模板描述
        template_file:
          type: string
          format: uri
          title: 模板文件
        is_active:
          type: boolean
          title: 是否激活
        template_config:
          title: 模板配置
        created_at:
          type: string
          format: date-time
          readOnly: true
          title: 创建时间
        updated_at:
          type: string
          format: date-time
          readOnly: true
          title: 更新时间
      required:
      - created_at
      - id
      - name
      - template_file
      - updated_at
    ReportTemplateRequest:
      type: object
      description: 报告模板序列化器
      properties:
        name:
          type: string
          minLength: 1
          title: 模板名称
          maxLength: 100
        description:
          type: string
          title: 模板描述
        template_file:
          type: string
          format: binary
          title: 模板文件
        is_active:
          type: boolean
          title: 是否激活
        template_config:
          title: 模板配置
      required:
      - name
      - template_file
    ReportTypeEnum:
      enum:
      - detection
      - monthly
      type: string
      description: |-
        * `detection` - 检测报告
        * `monthly` - 月度报表
    ReportUpdate:
      type: object
      description: 报告更新序列化器
      properties:
        title:
          type: string
          title: 报告标题
          maxLength: 200
        form_data:
          title: 表单填写数据
        template_data:
          title: 模板渲染数据
        delete_original_docx:
          type: boolean
          title: 删除原始Word文件
        generation_settings:
          title: 生成设置
      required:
      - title
    ReportUpdateRequest:
      type: object
      description: 报告更新序列化器
      properties:
        title:
          type: string
          minLength: 1
          title: 报告标题
          maxLength: 200
        form_data:
          title: 表单填写数据
        template_data:
          title: 模板渲染数据
        delete_original_docx:
          type: boolean
          title: 删除原始Word文件
        generation_settings:
          title: 生成设置
      required:
      - title
    RoleEnum:
      enum:
      - admin
      - operator
      - viewer
      type: string
      description: |-
        * `admin` - 管理员
        * `operator` - 操作员
        * `viewer` - 查看员
    UploadedFile:
      type: object
      description: 上传文件序列化器
      properties:
        id:
          type: integer
          readOnly: true
        file:
          type: string
          format: uri
          title: 文件
        file_url:
          type: string
          readOnly: true
        original_name:
          type: string
          title: 原始文件名
          maxLength: 255
        file_size:
          type: integer
          readOnly: true
          title: 文件大小
        file_type:
          type: string
          readOnly: true
          title: 文件类型
        mime_type:
          type: string
          readOnly: true
          title: MIME类型
        hash_md5:
          type: string
          readOnly: true
          title: MD5哈希
        is_processed:
          type: boolean
          readOnly: true
          title: 是否已处理
        file_extension:
          type: string
          readOnly: true
        is_image:
          type: string
          readOnly: true
        is_document:
          type: string
          readOnly: true
        created_at:
          type: string
          format: date-time
          readOnly: true
          title: 创建时间
        updated_at:
          type: string
          format: date-time
          readOnly: true
          title: 更新时间
      required:
      - created_at
      - file
      - file_extension
      - file_size
      - file_type
      - file_url
      - hash_md5
      - id
      - is_document
      - is_image
      - is_processed
      - mime_type
      - original_name
      - updated_at
    UploadedFileRequest:
      type: object
      description: 上传文件序列化器
      properties:
        file:
          type: string
          format: binary
          title: 文件
        original_name:
          type: string
          minLength: 1
          title: 原始文件名
          maxLength: 255
      required:
      - file
      - original_name
    User:
      type: object
      description: 用户序列化器
      properties:
        id:
          type: integer
          readOnly: true
        username:
          type: string
          title: 用户名
          description: 必填；长度为150个字符或以下；只能包含字母、数字、特殊字符“@”、“.”、“-”和“_”。
          pattern: ^[\w.@+-]+$
          maxLength: 150
        email:
          type: string
          format: email
          title: 电子邮件地址
          maxLength: 254
        first_name:
          type: string
          title: 名字
          maxLength: 150
        last_name:
          type: string
          title: 姓氏
          maxLength: 150
        phone:
          type: string
          title: 电话号码
          maxLength: 20
        company:
          type: string
          title: 公司
          maxLength: 100
        role:
          allOf:
          - $ref: '#/components/schemas/RoleEnum'
          title: 角色
        is_active:
          type: boolean
          title: 是否激活
        date_joined:
          type: string
          format: date-time
          readOnly: true
          title: 加入日期
        created_at:
          type: string
          format: date-time
          readOnly: true
          title: 创建时间
        updated_at:
          type: string
          format: date-time
          readOnly: true
          title: 更新时间
      required:
      - created_at
      - date_joined
      - id
      - updated_at
      - username
    UserRequest:
      type: object
      description: 用户序列化器
      properties:
        username:
          type: string
          minLength: 1
          title: 用户名
          description: 必填；长度为150个字符或以下；只能包含字母、数字、特殊字符“@”、“.”、“-”和“_”。
          pattern: ^[\w.@+-]+$
          maxLength: 150
        email:
          type: string
          format: email
          title: 电子邮件地址
          maxLength: 254
        first_name:
          type: string
          title: 名字
          maxLength: 150
        last_name:
          type: string
          title: 姓氏
          maxLength: 150
        phone:
          type: string
          title: 电话号码
          maxLength: 20
        company:
          type: string
          title: 公司
          maxLength: 100
        role:
          allOf:
          - $ref: '#/components/schemas/RoleEnum'
          title: 角色
        is_active:
          type: boolean
          title: 是否激活
      required:
      - username
    商品类型Enum:
      enum:
      - 国标
      - 母婴
      type: string
      description: |-
        * `国标` - 国标
        * `母婴` - 母婴
  securitySchemes:
    tokenAuth:
      type: apiKey
      in: header
      name: Authorization
      description: Token-based authentication with required prefix "Token"
tags:
- name: AI配置管理
  description: AI服务配置的增删改查和管理操作
- name: AI监控
  description: AI服务的监控、健康检查和统计
- name: OCR处理
  description: 图片OCR识别和数据提取
- name: 用户管理
  description: 用户认证和权限管理
- name: 文件管理
  description: 文件上传和管理
- name: 报告管理
  description: 检测报告的生成和管理
